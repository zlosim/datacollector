<?xml version="1.0" encoding="UTF-8"?>
<!--

    Copyright 2017 StreamSets Inc.

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.

-->
<!DOCTYPE concept PUBLIC "-//OASIS//DTD DITA Concept//EN" "concept.dtd">
<concept id="concept_zp2_fqs_5r">
 <title>Buffer Limit and Error Handling</title>
 <shortdesc>The Amazon S3 origin uses a buffer to read objects into memory to produce records. The
    size of the buffer determines the maximum size of the record that can be processed. </shortdesc>
 <conbody>
  <p><indexterm>Amazon S3 origin<indexterm>buffer limit and error
        handling</indexterm></indexterm><indexterm>buffer limit and error handling<indexterm>for
          Amazon S3</indexterm></indexterm>The buffer limit helps prevent out of memory errors.
      Decrease the buffer limit when memory on the <ph
        conref="../Reusable_Content/ReusablePhrases.dita#concept_vhs_5tz_xp/pName-long"/> machine is
      limited. Increase the buffer limit to process larger records when memory is available. </p>
    <p>When a record is larger than the specified limit, the origin processes the object based on
      the stage error handling:<dl>
        <dlentry>
          <dt>Discard</dt>
          <dd>The origin discards the record and all remaining records in the object, and then
            continues processing the next object.</dd>
        </dlentry>
        <dlentry>
          <dt>Send to Error </dt>
          <dd>With a buffer limit error, the origin cannot send the record to the pipeline for error
            handling because it is unable to fully process the record. <p>Instead, the origin
              displays a message <ph product="SDC">in Monitor mode </ph>indicating that a buffer
              overrun error occurred<ph product="SDC">. The message includes the object and offset
                where the buffer overrun error occurred. The information displays</ph> in the
              pipeline history<ph product="SDC"> and displays as an alert when you monitor the
                pipeline</ph>. </p><p>If an error directory is configured for the stage, the origin
              moves the object to the error directory and continues processing the next object.
            </p></dd>
        </dlentry>
        <dlentry>
          <dt>Stop Pipeline</dt>
          <dd>The origin stops the pipeline and displays a message <ph product="SDC">in Monitor mode
            </ph>indicating that a buffer overrun error occurred. The message includes the object
            and offset where the buffer overrun error occurred. The information displays <ph
              product="SDC">as an alert and </ph>in the pipeline history. </dd>
        </dlentry>
      </dl></p>
  <p>
   <note>You can also check the <ph
     conref="../Reusable_Content/ReusablePhrases.dita#concept_vhs_5tz_xp/pName-long"/> log file for
    error details. </note>
  </p>
 </conbody>
</concept>
