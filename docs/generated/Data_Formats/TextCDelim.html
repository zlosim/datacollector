
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="description" content="By default, the text data format creates records based on line breaks, creating a record for each line of text. You can configure origins to create records based on custom delimiters. Use custom ..." /><meta name="copyright" content="(C) Copyright 2005" /><meta name="DC.rights.owner" content="(C) Copyright 2005" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Text Data Format with Custom Delimiters" /><meta name="DC.Relation" scheme="URI" content="../Data_Formats/DataFormats-Title.html" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="concept_lg2_gcg_jx" /><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>Text Data Format with Custom Delimiters</title><!--  Generated with Oxygen version 18.1, build number 2016112217.  --><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/skins/skin.css" /><link rel="stylesheet" type="text/css" href="../skin.css" /><script type="text/javascript"><!--
            
            var prefix = "../index.html";
            
            --></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-1.11.3.min.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.highlight-3.js"><!----></script><script type="text/javascript" charset="utf-8" src="../oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script>
<!--
    Copyright 2017 StreamSets Inc.

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->
</head>
<body onload="highlightSearchTerm()" class="frmBody">
<table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><a href="javascript:window.print();" title="Print this page"></a></div><div id="permalink"><a href="#" title="Link to this page"></a></div></td></tr><tr><td style="width:75%;"><span class="topic_breadcrumb_links"><span class="topic_breadcrumb_link"><a class="navheader_parent_path" href="../Data_Formats/DataFormats-Title.html" title="Data Formats">Data Formats</a></span></span></td><td><span id="topic_navigation_links" class="navheader">
<span class="navparent"><a class="link" href="../Data_Formats/DataFormats-Title.html" title="Data Formats"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Data Formats</span></a></span>  </span></td></tr></tbody></table>
<div class="nested0" id="concept_lg2_gcg_jx">
 <h1 class="title topictitle1">Text Data Format with Custom Delimiters</h1>

 <div class="body conbody">
        <p class="p">By default, the text data format creates records
            based on line breaks, creating a record for each line of text. You can configure origins
            to create records based on custom delimiters. </p>

        <p class="p">Use custom delimiters when the origin system uses delimiters to separate logical sections
            of data that you want to use as records. A custom delimiter might be as simple as a
            semicolon or might be a set of characters. You can even use an XML tag as a custom
            delimiter to read XML data.</p>

        <div class="p">
            <div class="note note"><span class="notetitle">Note:</span> When using a custom delimiter, the origin uses the delimiter characters to create
                records, ignoring new lines.</div>

        </div>

        <p class="p">For most origins, you can include the custom delimiters in records or you can remove
            them. For the Hadoop FS and MapR FS origins, you cannot include the custom delimiters in
            records.</p>

        <div class="p">For example, say you configure the Directory origin to process a file with the following
            text, using a semicolon as a delimiter, and discarding the
            delimiter:<pre class="pre codeblock">8/12/2016 6:01:00 unspecified error message;8/12/2016 
6:01:04 another error message;8/12/2016 6:01:09 just a warning message;</pre>
</div>

        <div class="p">The origin generates the following records, with the data in a single text
                field:<table cellpadding="4" cellspacing="0" summary="" id="concept_lg2_gcg_jx__simpletable_qcp_tjn_jx" border="1" class="simpletable"><tr class="sthead">
                    <th valign="bottom" align="left" id="d66408e50" class="stentry" width="100%">Text</th>

                </tr>
<tr class="strow">
                    <td valign="top" headers="d66408e50" class="stentry">8/12/2016 6:01:00 unspecified error message</td>

                </tr>
<tr class="strow">
                    <td valign="top" headers="d66408e50" class="stentry">8/12/2016 <p class="p">6:01:04 another error message</p>
</td>

                </tr>
<tr class="strow">
                    <td valign="top" headers="d66408e50" class="stentry">8/12/2016 6:01:09 just a warning message</td>

                </tr>
</table>
</div>

        <p class="p">Note that the origin retains the line break, but does not use it to create a separate
            record.</p>

    </div>

<div class="related-links"></div>
<div class="topic concept nested1" id="concept_okt_kmg_jx">
 <h2 class="title topictitle2">Processing XML Data with Custom Delimiters</h2>

 <div class="body conbody">
        <p class="p">You can use custom delimiters with the
            text data format to process XML data. You might use the text data format to process XML
            data with no root element, which cannot be processed with the XML data format. </p>

        <p class="p">When using the text data format in the origin to read XML data, you can use the XML
            Parser processor downstream to parse the XML data.</p>

        <p class="p">For example, the following XML document is valid and is best processed using the XML data
            format:</p>

        <div class="p">
            <pre class="pre codeblock">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;root&gt;
 &lt;msg&gt;
    &lt;time&gt;8/12/2016 6:01:00&lt;/time&gt;
    &lt;request&gt;GET /index.html 200&lt;/request&gt;
 &lt;/msg&gt;
 &lt;msg&gt;
    &lt;time&gt;8/12/2016 6:03:43&lt;/time&gt;
    &lt;request&gt;GET /images/sponsored.gif 304&lt;/request&gt;
 &lt;/msg&gt;
&lt;/root&gt;</pre>

        </div>

        <div class="p">However, the following XML document does not include an XML prolog or root element, so it
            is
            invalid:<pre class="pre codeblock">&lt;msg&gt;
    &lt;time&gt;8/12/2016 6:01:00&lt;/time&gt;
    &lt;request&gt;GET /index.html 200&lt;/request&gt;
&lt;/msg&gt;
&lt;msg&gt;
    &lt;time&gt;8/12/2016 6:03:43&lt;/time&gt;
    &lt;request&gt;GET /images/sponsored.gif 304&lt;/request&gt;
&lt;/msg&gt;</pre>
</div>

        <p class="p">You can use the text data format with a custom delimiter to process the invalid XML
            document. To do so, use &lt;/msg&gt; as the custom delimiter to separate data into records,
            and make sure to include the delimiter in the record as follows:</p>

        <p class="p"><img class="image" id="concept_okt_kmg_jx__image_k3b_sgh_jx" src="../Graphics/Text-CustomDelim-Dir.png" height="286" width="451" /></p>

        <div class="p">When origins process text data, they write record data into a single text field named
            "text". When Directory processes the invalid XML document, it creates two
                records:<table cellpadding="4" cellspacing="0" summary="" id="concept_okt_kmg_jx__simpletable_bhf_tnh_jx" border="1" class="simpletable"><tr class="sthead">
                    <th valign="bottom" align="left" id="d66408e140" class="stentry" width="100%">text</th>

                </tr>
<tr class="strow">
                    <td valign="top" headers="d66408e140" class="stentry">&lt;msg&gt; &lt;time&gt;8/12/2016 6:01:00&lt;/time&gt; &lt;request&gt;GET
                        /index.html 200&lt;/request&gt; &lt;/msg&gt;</td>

                </tr>
<tr class="strow">
                    <td valign="top" headers="d66408e140" class="stentry">&lt;msg&gt; &lt;time&gt;8/12/2016 6:03:43&lt;/time&gt; &lt;request&gt;GET
                        /images/sponsored.gif 304&lt;/request&gt; &lt;/msg&gt;</td>

                </tr>
</table>
You can configure the XML Parser to parse the XML data as follows: </div>

        <p class="p"><img class="image" id="concept_okt_kmg_jx__image_zfk_v3h_jx" src="../Graphics/Text-CustomDelim-XML.png" height="241" width="409" />
        </p>

        <div class="p">The XML Parser converts the time and request attributes to list fields within the text
            map field, as shown. The table displays data types in angle brackets ( &lt; &gt; ):
                <table cellpadding="4" cellspacing="0" summary="" id="concept_okt_kmg_jx__simpletable_jrl_vnh_jx" border="1" class="simpletable"><tr class="sthead">
                    <th valign="bottom" align="left" id="d66408e168" class="stentry" width="100%">text &lt;map&gt;</th>

                </tr>
<tr class="strow">
                    <td valign="top" headers="d66408e168" class="stentry">- time &lt;list&gt;:<ul class="ul" id="concept_okt_kmg_jx__ul_c14_f4h_jx">
                            <li class="li">0 &lt;map&gt;:<p class="p">- value &lt;string&gt;: 8/12/2016 6:01:00</p>
</li>

                        </ul>
<div class="p">- request &lt;list&gt;:<ul class="ul" id="concept_okt_kmg_jx__ul_i3w_g4h_jx">
                                <li class="li">0 &lt;map&gt;:<p class="p">- value &lt;string&gt;: GET /index.html 200</p>
</li>

                            </ul>
</div>
</td>

                </tr>
<tr class="strow">
                    <td valign="top" headers="d66408e168" class="stentry">- time &lt;list&gt;:<ul class="ul" id="concept_okt_kmg_jx__ul_dqp_tqh_jx">
                            <li class="li">0 &lt;map&gt;:<p class="p">- value &lt;string&gt;:: 8/12/2016 6:03:43</p>
</li>

                        </ul>
<div class="p">- request  &lt;list&gt;: <ul class="ul" id="concept_okt_kmg_jx__ul_gkw_xqh_jx">
                                <li class="li">0 &lt;map&gt;: <p class="p">- value &lt;string&gt;: GET /images/sponsored.gif
                                        304</p>
</li>

                            </ul>
</div>
</td>

                </tr>
</table>
</div>

    </div>

</div>
</div>
<div class="navfooter"><!---->
<span class="navparent"><a class="link" href="../Data_Formats/DataFormats-Title.html" title="Data Formats"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Data Formats</span></a></span>  </div><div class="footer" id="webhelp_copyright_information"></div>
</body>
</html>