
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />        
      <meta name="copyright" content="(C) Copyright 2005" /><meta name="DC.rights.owner" content="(C) Copyright 2005" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="MapR DB JSON" /><meta name="abstract" content="The MapR DB JSON origin reads JSON documents from MapR DB JSON tables. The origin converts each document into a record." /><meta name="description" content="The MapR DB JSON origin reads JSON documents from MapR DB JSON tables. The origin converts each document into a record." /><meta name="DC.Relation" scheme="URI" content="../Origins/Origins_title.html" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="concept_ywh_k15_3y" /><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>MapR DB JSON</title><!--  Generated with Oxygen version 18.1, build number 2016112217.  --><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/skins/skin.css" /><link rel="stylesheet" type="text/css" href="../skin.css" /><script type="text/javascript"><!--
            
            var prefix = "../index.html";
            
            --></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-1.11.3.min.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.highlight-3.js"><!----></script><script type="text/javascript" charset="utf-8" src="../oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script>
<!--
    Copyright 2017 StreamSets Inc.

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->
</head>
<body onload="highlightSearchTerm()" class="frmBody">
<table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><a href="javascript:window.print();" title="Print this page"></a></div><div id="permalink"><a href="#" title="Link to this page"></a></div></td></tr><tr><td style="width:75%;"><span class="topic_breadcrumb_links"><span class="topic_breadcrumb_link"><a class="navheader_parent_path" href="../Origins/Origins_title.html" title="Origins">Origins</a></span></span></td><td><span id="topic_navigation_links" class="navheader">
<span class="navparent"><a class="link" href="../Origins/Origins_title.html" title="Origins"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Origins</span></a></span>  </span></td></tr></tbody></table>
<div class="nested0" id="concept_ywh_k15_3y">
 <h1 class="title topictitle1">MapR DB JSON</h1>

 
 <div class="body conbody"><p class="shortdesc">The MapR DB JSON origin reads JSON documents from MapR DB JSON tables. The origin
        converts each document into a record.</p>

        <p class="p">MapR DB JSON tables are tables in which every row
            is a JSON document. Each JSON document has a unique identifier stored in the _id field,
            which in turn is used as the row key to uniquely identify each row in the table.</p>

        <p class="p">When you configure the origin, you define the JSON table to read from. The origin uses
            the _id field in each JSON document as the offset field. You can optionally define the
            initial offset value to start reading from. </p>

        <p class="p">When the pipeline stops, the MapR DB JSON origin notes where it stops reading. When the
            pipeline starts again, the origin continues processing from where it stopped by default.
            You can reset the origin to process all available data.</p>

        <div class="p">
            <div class="note tip"><span class="tiptitle">Tip:</span> <span class="ph">Data
                  Collector</span> provides several MapR origins to address different needs. For a quick comparison
                chart to help you choose the right one, see <a class="xref" href="Origins_overview.html#concept_ip2_szg_qbb">Comparing MapR
                    Origins</a>.</div>

        </div>

        <p class="p">Before you use any MapR stage in a pipeline, you must perform
                  additional steps to enable <span class="ph">Data
                  Collector</span> to
                  process MapR data. <span class="ph">For more information, see <a class="xref" href="../Installation/MapR-Prerequisites.html#concept_jgs_qpg_2v" title="Due to licensing restrictions, StreamSets cannot distribute MapR libraries with Data Collector. As a result, you must perform additional steps to enable the Data Collector machine to connect to MapR. Data Collector does not display MapR origins and destinations in the stage library nor the MapR Streams statistics aggregator in the pipeline properties until you perform these prerequisites.">MapR Prerequisites</a>.</span></p>

    </div>

<div class="related-links"></div>
<div class="topic concept nested1" id="concept_xpd_fn5_sy">
 <h2 class="title topictitle2">Handling the _id Field</h2>

 
 <div class="body conbody"><p class="shortdesc">When the origin converts a JSON document into a record, it includes the _id field of the
        JSON document in the record. If needed, you can use the Field Remover processor in the
        pipeline to remove the _id field.</p>

        <p class="p">The
            _id field in a JSON document can contain string or binary data. The MapR DB JSON origin
            can read from JSON tables that include _id fields with one of the valid types. For
            example, the origin can read from a JSON table when all documents in the table have a
            string _id field or when all documents have a binary _id field. The origin cannot read
            from a table with a combination of types for the _id field.</p>

        <p class="p">When a JSON document contains a string _id field, the origin creates the _id field in the
            record as a String.</p>

        <p class="p">When a JSON document contains a binary _id field, the origin converts the data to String
            and then includes the field in the record.</p>

        <div class="p">
            <div class="note note"><span class="notetitle">Note:</span> A binary _id field in a JSON document must contain numeric data for the origin to
                process the data correctly. In addition, binary _id fields must have the same width
                for all rows or JSON documents in the table. </div>

        </div>

    </div>

</div>
<div class="topic task nested1" id="task_hys_s15_3y">
    <h2 class="title topictitle2">Configuring a MapR DB JSON Origin</h2>

    <div class="body taskbody">
        <div class="section context">
            <p class="p">Configure
                a MapR DB JSON origin to read JSON documents from MapR DB JSON tables.</p>

        </div>

        <ol class="ol steps"><li class="li step stepexpand">
                <span class="ph cmd">In the Properties panel, on the <span class="keyword wintitle">General</span> tab, configure the
                    following properties:</span>
                <div class="itemgroup info">
                    
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="task_hys_s15_3y__d41872e549" class="table" frame="border" border="1" rules="all">
                            
                            
                            <thead class="thead" align="left">
                                <tr>
                                    <th class="entry" valign="top" width="30%" id="d306605e164">General Property</th>

                                    <th class="entry" valign="top" width="70%" id="d306605e167">Description</th>

                                </tr>

                            </thead>

                            <tbody class="tbody">
                                <tr>
                                    <td class="entry" valign="top" width="30%" headers="d306605e164 ">Name</td>

                                    <td class="entry" valign="top" width="70%" headers="d306605e167 ">Stage name.</td>

                                </tr>

                                <tr>
                                    <td class="entry" valign="top" width="30%" headers="d306605e164 ">Description</td>

                                    <td class="entry" valign="top" width="70%" headers="d306605e167 ">Optional description.</td>

                                </tr>

                                <tr>
                                    <td class="entry" valign="top" width="30%" headers="d306605e164 ">Stage Library</td>

                                    <td class="entry" valign="top" width="70%" headers="d306605e167 ">Library version that you want to use. </td>

                                </tr>

                                <tr>
                                    <td class="entry" valign="top" width="30%" headers="d306605e164 ">On Record Error <a class="xref" href="../Pipeline_Design/ErrorHandling.html#concept_atr_j4y_5r">
                                            <img class="image" id="task_hys_s15_3y__d41872e604" src="../Reusable_Content/../Graphics/icon_moreInfo.png" height="12" width="12" /></a></td>

                                    <td class="entry" valign="top" width="70%" headers="d306605e167 ">Error record handling for the stage: <ul class="ul" id="task_hys_s15_3y__d41872e608">
                                            <li class="li">Discard - Discards the record.</li>

                                            <li class="li">Send to Error - Sends the record to the pipeline for
                                                error handling.</li>

                                            <li class="li">Stop Pipeline - Stops the pipeline. Not valid for
                                                cluster pipelines.</li>

                                        </ul>
</td>

                                </tr>

                            </tbody>

                        </table>
</div>

                </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">On the <span class="ph uicontrol">MapR DB JSON</span> tab, configure the following
                    properties:</span>
                <div class="itemgroup info">
                    
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="task_hys_s15_3y__table_pkx_rnp_4y" class="table" frame="border" border="1" rules="all">
                            
                            
                            <thead class="thead" align="left">
                                <tr>
                                    <th class="entry" valign="top" width="30%" id="d306605e252">MapR DB JSON Property</th>

                                    <th class="entry" valign="top" width="70%" id="d306605e255">Description</th>

                                </tr>

                            </thead>

                            <tbody class="tbody">
                                <tr>
                                    <td class="entry" valign="top" width="30%" headers="d306605e252 ">Table Name</td>

                                    <td class="entry" valign="top" width="70%" headers="d306605e255 ">Name of the MapR DB JSON table to read from. Enter the
                                        name of a table.<p class="p">If you do not include a path to the table, the stage assumes that
        the table exists in the user's home directory. For example, <samp class="ph codeph">/user/&lt;user
         name&gt;/&lt;table name&gt;</samp>.</p>
<p class="p">You can include a path relative to the user's home directory or an absolute path when you
        enter the table name. For tables in a default cluster, specify the absolute path as
         <samp class="ph codeph">/&lt;table path&gt;</samp>. For tables in a specific cluster, specify the absolute
        path as <samp class="ph codeph">/mapr/&lt;cluster name&gt;/&lt;table path&gt;</samp>.</p>
</td>

                                </tr>

                                <tr>
                                    <td class="entry" valign="top" width="30%" headers="d306605e252 ">Initial Offset</td>

                                    <td class="entry" valign="top" width="70%" headers="d306605e255 ">Value of the _id field in the JSON document, or the row
                                        key of the table, where you want the origin to start
                                            reading.<p class="p">By default, the origin reads all rows in the
                                            JSON table. You can optionally define an initial offset
                                            value to determine where the origin starts reading data
                                            within the JSON table. </p>
</td>

                                </tr>

                            </tbody>

                        </table>
</div>

                </div>
            </li>
</ol>

    </div>

</div>
</div>
<div class="navfooter"><!---->
<span class="navparent"><a class="link" href="../Origins/Origins_title.html" title="Origins"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Origins</span></a></span>  </div><div class="footer" id="webhelp_copyright_information"></div>
</body>
</html>