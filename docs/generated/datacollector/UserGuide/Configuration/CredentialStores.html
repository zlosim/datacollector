
<!DOCTYPE html
  PUBLIC "" "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:whc="http://www.oxygenxml.com/webhelp/components" xml:lang="en-us" lang="en-us">
    <head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><link rel="shortcut icon" href="../../../oxygen-webhelp/template/images/favicon.png"><!----></link><link rel="icon" href="../../../oxygen-webhelp/template/images/favicon.png"><!----></link>        
      <meta name="copyright" content="(C) Copyright 2018" /><meta name="DC.rights.owner" content="(C) Copyright 2018" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Credential Stores" /><meta name="abstract" content="Data Collector pipeline stages communicate with external systems to read and write data. Many of these external systems require credentials - user names or passwords - to access the data. When you configure pipeline stages for these external systems, you define the credentials that the stage uses to connect to the system." /><meta name="description" content="Data Collector pipeline stages communicate with external systems to read and write data. Many of these external systems require credentials - user names or passwords - to access the data. When you configure pipeline stages for these external systems, you define the credentials that the stage uses to connect to the system." /><meta name="DC.Relation" scheme="URI" content="../../../datacollector/UserGuide/Configuration/Config_title.html" /><meta name="DC.Relation" scheme="URI" content="../../../datacollector/UserGuide/Configuration/CustomStageLibraries.html#concept_pmc_jk1_1x" /><meta name="DC.Relation" scheme="URI" content="../../../datacollector/UserGuide/Configuration/Vault-Overview.html#concept_bmq_gl1_mw" /><meta name="prodname" content="Data Collector" /><meta name="prodname" content="Data Collector" /><meta name="prodname" content="Data Collector" /><meta name="prodname" content="Data Collector" /><meta name="prodname" content="Data Collector" /><meta name="prodname" content="Data Collector" /><meta name="prodname" content="Data Collector" /><meta name="prodname" content="Data Collector" /><meta name="prodname" content="Data Collector" /><meta name="prodname" content="Data Collector" /><meta name="prodname" content="Data Collector" /><meta name="prodname" content="Data Collector" /><meta name="prodname" content="Data Collector" /><meta name="prodname" content="Data Collector" /><meta name="prodname" content="Data Collector" /><meta name="prodname" content="Data Collector" /><meta name="prodname" content="Data Collector" /><meta name="prodname" content="Data Collector" /><meta name="prodname" content="Data Collector" /><meta name="prodname" content="Data Collector" /><meta name="prodname" content="Data Collector" /><meta name="version" content="1" /><meta name="version" content="1" /><meta name="version" content="1" /><meta name="version" content="1" /><meta name="version" content="1" /><meta name="version" content="1" /><meta name="version" content="1" /><meta name="version" content="1" /><meta name="version" content="1" /><meta name="version" content="1" /><meta name="version" content="1" /><meta name="version" content="1" /><meta name="version" content="1" /><meta name="version" content="1" /><meta name="version" content="1" /><meta name="version" content="1" /><meta name="version" content="1" /><meta name="version" content="1" /><meta name="version" content="1" /><meta name="version" content="1" /><meta name="version" content="1" /><meta name="release" content="0" /><meta name="release" content="0" /><meta name="release" content="0" /><meta name="release" content="0" /><meta name="release" content="0" /><meta name="release" content="0" /><meta name="release" content="0" /><meta name="release" content="0" /><meta name="release" content="0" /><meta name="release" content="0" /><meta name="release" content="0" /><meta name="release" content="0" /><meta name="release" content="0" /><meta name="release" content="0" /><meta name="release" content="0" /><meta name="release" content="0" /><meta name="release" content="0" /><meta name="release" content="0" /><meta name="release" content="0" /><meta name="release" content="0" /><meta name="release" content="0" /><meta name="modification" content="0 Beta 2" /><meta name="modification" content="0 Beta 2" /><meta name="modification" content="0 Beta 2" /><meta name="modification" content="0 Beta 2" /><meta name="modification" content="0 Beta 2" /><meta name="modification" content="0 Beta 2" /><meta name="modification" content="0 Beta 2" /><meta name="modification" content="0 Beta 2" /><meta name="modification" content="0 Beta 2" /><meta name="modification" content="0 Beta 2" /><meta name="modification" content="0 Beta 2" /><meta name="modification" content="0 Beta 2" /><meta name="modification" content="0 Beta 2" /><meta name="modification" content="0 Beta 2" /><meta name="modification" content="0 Beta 2" /><meta name="modification" content="0 Beta 2" /><meta name="modification" content="0 Beta 2" /><meta name="modification" content="0 Beta 2" /><meta name="modification" content="0 Beta 2" /><meta name="modification" content="0 Beta 2" /><meta name="modification" content="0 Beta 2" /><meta name="DC.Date.Created" content="2014-10-31" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="concept_bt1_bpj_r1b" /><title>Credential Stores</title><!--  Generated with Oxygen version 20.0-SNAPSHOT, build number 2018042310.  --><meta name="wh-path2root" content="../../../" /><meta name="wh-toc-id" content="concept_bt1_bpj_r1b-d46e11236" />         
        
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <!-- Latest compiled and minified Bootstrap CSS -->
        <link rel="stylesheet" type="text/css" href="../../../oxygen-webhelp/lib/bootstrap/css/bootstrap.min.css" />

        <!-- Bootstrap Optional theme -->
        <link rel="stylesheet" href="../../../oxygen-webhelp/lib/bootstrap/css/bootstrap-theme.min.css" />
        <link rel="stylesheet" href="../../../oxygen-webhelp/lib/jquery-ui/jquery-ui.min.css" />

        <!-- Template default styles  -->
        <link rel="stylesheet" type="text/css" href="../../../oxygen-webhelp/app/topic-page.css?buildId=2018042310" />
        

        <script type="text/javascript" src="../../../oxygen-webhelp/lib/jquery/jquery-3.1.1.min.js"><!----></script>

        <script data-main="../../../oxygen-webhelp/app/topic-page.js" src="../../../oxygen-webhelp/lib/requirejs/require.js"></script>
        
        <!-- Skin resources -->
        <link rel="stylesheet" type="text/css" href="../../../oxygen-webhelp/template/light.css?buildId=2018042310" />
        <!-- EXM-36950 - Expand the args.hdf parameter here -->
        
        
    <link rel="stylesheet" type="text/css" href="../../../skin.css" /></head>

    <body class="wh_topic_page frmBody">
        <!-- EXM-36950 - Expand the args.hdr parameter here -->
        
        
        
<nav class="navbar navbar-default wh_header">
    <div class="container-fluid">
        <div class="wh_header_flex_container">
            <div class="wh_logo_and_publication_title_container">
                <div class="wh_logo_and_publication_title">
                    
                    <!--
                            This component will be generated when the next parameters are specified in the transformation scenario:
                            'webhelp.logo.image' and 'webhelp.logo.image.target.url'.
                            See: http://oxygenxml.com/doc/versions/17.1/ug-editor/#topics/dita_webhelp_output.html.
                    -->
                    <a href="../../../index.html" class=" wh_logo hidden-xs "></a>
                    <div class=" wh_publication_title "><a href="../../../index.html"><span class="booktitle">  <span class="ph mainbooktitle"><span class="ph">Data Collector</span> User Guide</span>  </span></a></div>
                    
                </div>
                
                <!-- The menu button for mobile devices is copied in the output only when the 'webhelp.show.top.menu' parameter is set to 'yes' -->
                
            </div>

            <div class="wh_top_menu_and_indexterms_link collapse navbar-collapse">
                
                
                <div class=" wh_indexterms_link "><a href="../../../indexTerms.html" title="Index"><span>Index</span></a></div>
                
            </div>
        </div>
    </div>
</nav>

        <div class=" wh_search_input "><form id="searchForm" method="get" action="../../../search.html"><div><input type="search" placeholder="Search " class="wh_search_textfield" id="textToSearch" name="searchQuery" /><button type="submit" class="wh_search_button"><span>Search</span></button></div><script><!--
                                    $(document).ready(function () {
                                        $('#searchForm').submit(function (e) {
                                            if ($('.wh_search_textfield').val().length < 1) {
                                                e.preventDefault();
                                            }
                                        });
                                    });
                                --></script></form></div>
        
        <div class="container-fluid">
            <div class="row">

                <nav class="wh_tools hidden-print">
                    <div data-tooltip-position="bottom" class=" wh_breadcrumb "><ol xmlns:html="http://www.w3.org/1999/xhtml" class="hidden-print"><li><span class="home"><a href="../../../index.html"><span>Home</span></a></span></li>
   <li><span class="topicref" data-id="concept_ylh_yyz_ky"><span class="title"><a href="../../../datacollector/UserGuide/Configuration/Config_title.html">Configuration</a></span></span></li>
   <li class="active"><span class="topicref" data-id="concept_bt1_bpj_r1b"><span class="title"><a href="../../../datacollector/UserGuide/Configuration/CredentialStores.html#concept_bt1_bpj_r1b">Credential Stores</a><span class="wh-tooltip">
               
               <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc"><span class="ph">Data Collector</span>         pipeline stages communicate with external systems to read and write data. Many of these         external systems
                  require credentials - user names or passwords - to access the data. When         you configure pipeline stages for these external
                  systems, you define the credentials that         the stage uses to connect to the system.
                  
               </p>
               </span></span></span></li>
</ol></div>

                    <div class="wh_right_tools hidden-sm hidden-xs">
                        <div class=" wh_navigation_links "><span id="topic_navigation_links" class="navheader">
  
<span class="navprev"><a class="link" href="../../../datacollector/UserGuide/Configuration/CustomStageLibraries.html#concept_pmc_jk1_1x" title="Custom Stage Libraries"></a></span>  
<span class="navnext"><a class="link" href="../../../datacollector/UserGuide/Configuration/Vault-Overview.html#concept_bmq_gl1_mw" title="Accessing Hashicorp Vault Secrets with Vault Functions (Deprecated)"></a></span>  </span></div>
                        <button class="wh_hide_highlight" title="Toggle search highlights"></button>
                        <button class="webhelp_expand_collapse_sections" data-next-state="collapsed" title="Collapse sections"></button>
                        <div class=" wh_print_link print "><a href="javascript:window.print();" title="Print this page"></a></div>
                    </div>
                </nav>
            </div>

            <div class="wh_content_area">
                <div class="row">
                    
                        <nav role="navigation" id="wh_publication_toc" class="col-lg-3 col-md-3 col-sm-3 hidden-xs navbar hidden-print">
                            <div class=" wh_publication_toc " data-tooltip-position="right"><ul>
   <li><span data-tocid="concept_htw_ghg_jq-d46e54" class="topicref" data-id="concept_htw_ghg_jq" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Getting_Started/GettingStarted_Title.html#concept_htw_ghg_jq">Getting Started</a></span></span></li>
   <li><span data-tocid="concept_hz3_5fk_fy-d46e804" class="topicref" data-id="concept_hz3_5fk_fy" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/WhatsNew/WhatsNew_Title.html#concept_hz3_5fk_fy">What's New</a><span class="wh-tooltip">
               
               <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc"></p>
               </span></span></span></li>
   <li><span data-tocid="concept_l4q_flb_kr-d46e4946" class="topicref" data-id="concept_l4q_flb_kr" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Installation/Install_title.html">Installation</a></span></span></li>
   <li><span data-tocid="concept_ylh_yyz_ky-d46e7013" class="topicref" data-id="concept_ylh_yyz_ky" data-state="expanded"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Configuration/Config_title.html">Configuration</a></span></span><ul class="nav nav-list">
         <li><span data-tocid="concept_dns_dvg_h5-d46e7035" class="topicref" data-id="concept_dns_dvg_h5" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Configuration/Authentication.html#concept_dns_dvg_h5">User Authentication</a><span class="wh-tooltip">
                     
                     <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc"><span class="ph">Data Collector</span>         can authenticate user accounts based on LDAP or files. Best practice is to use LDAP if your         organization
                        has it. By default, <span class="ph">Data Collector</span> uses         file-based authentication.
                        
                     </p>
                     </span></span></span></li>
         <li><span data-tocid="concept_k1r_prc_yy-d46e8025" class="topicref" data-id="concept_k1r_prc_yy" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Configuration/RolesandPermissions.html#concept_k1r_prc_yy">Roles and Permissions</a></span></span></li>
         <li><span data-tocid="concept_xyp_lt4_cw-d46e8307" class="topicref" data-id="concept_xyp_lt4_cw" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Configuration/HTTP_protocols.html#concept_xyp_lt4_cw">Enabling HTTPS</a></span></span></li>
         <li><span data-tocid="concept_pq5_xjq_kr-d46e8614" class="topicref" data-id="concept_pq5_xjq_kr" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Configuration/DCConfig.html#concept_pq5_xjq_kr">Data Collector Configuration</a><span class="wh-tooltip">
                     
                     <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc">You can edit the <span class="ph">Data Collector</span>    configuration file, <code class="ph codeph">$SDC_CONF/sdc.properties</code>, to configure properties such as the host name and port     number and account information for email alerts. 
                        
                     </p>
                     </span></span></span></li>
         <li><span data-tocid="concept_rng_qym_qr-d46e9920" class="topicref" data-id="concept_rng_qym_qr" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Configuration/DCEnvironmentConfig.html#concept_rng_qym_qr">Data Collector Environment Configuration</a></span></span></li>
         <li><span data-tocid="concept_pdv_qlw_ft-d46e10765" class="topicref" data-id="concept_pdv_qlw_ft" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Configuration/ExternalLibs.html#concept_pdv_qlw_ft">Install External Libraries </a></span></span></li>
         <li><span data-tocid="concept_pmc_jk1_1x-d46e11140" class="topicref" data-id="concept_pmc_jk1_1x" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Configuration/CustomStageLibraries.html#concept_pmc_jk1_1x">Custom Stage Libraries</a></span></span></li>
         <li class="active"><span data-tocid="concept_bt1_bpj_r1b-d46e11236" class="topicref" data-id="concept_bt1_bpj_r1b" data-state="expanded"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Configuration/CredentialStores.html#concept_bt1_bpj_r1b">Credential Stores</a><span class="wh-tooltip">
                     
                     <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc"><span class="ph">Data Collector</span>         pipeline stages communicate with external systems to read and write data. Many of these         external systems
                        require credentials - user names or passwords - to access the data. When         you configure pipeline stages for these external
                        systems, you define the credentials that         the stage uses to connect to the system.
                        
                     </p>
                     </span></span></span><ul class="nav nav-list">
               <li><span data-tocid="concept_g53_vdn_r1b-d46e11465" class="topicref" data-id="concept_g53_vdn_r1b" data-state="leaf"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Configuration/CredentialStores.html#concept_g53_vdn_r1b">Group Access to Credentials</a><span class="wh-tooltip">
                           
                           <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc">When you use credential functions in a pipeline, you can further secure the         credential values by allowing only a specific
                              group the ability to validate, preview, or run         the pipeline.
                              
                           </p>
                           </span></span></span></li>
               <li><span data-tocid="concept_v21_nvd_fbb-d46e11490" class="topicref" data-id="concept_v21_nvd_fbb" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Configuration/CredentialStores.html#concept_v21_nvd_fbb">CyberArk</a></span></span></li>
               <li><span data-tocid="concept_s3y_dps_51b-d46e11693" class="topicref" data-id="concept_s3y_dps_51b" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Configuration/CredentialStores.html#concept_s3y_dps_51b">Hashicorp Vault</a></span></span></li>
               <li><span data-tocid="concept_b3c_m2n_r1b-d46e12060" class="topicref" data-id="concept_b3c_m2n_r1b" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Configuration/CredentialStores.html#concept_b3c_m2n_r1b">Java Keystore</a><span class="wh-tooltip">
                           
                           <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc">To use the Java keystore credential store system, install the Java keystore         credential store stage library and define
                              the configuration properties used to connect to         the credential store. 
                              
                           </p>
                           </span></span></span></li>
               <li><span data-tocid="concept_t3k_ct3_cfb-d46e12915" class="topicref" data-id="concept_t3k_ct3_cfb" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Configuration/CredentialStores.html#concept_t3k_ct3_cfb">Microsoft Azure Key Vault</a></span></span></li>
            </ul>
         </li>
         <li><span data-tocid="concept_bmq_gl1_mw-d46e13899" class="topicref" data-id="concept_bmq_gl1_mw" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Configuration/Vault-Overview.html#concept_bmq_gl1_mw">Accessing Hashicorp Vault Secrets with Vault Functions (Deprecated)</a></span></span></li>
         <li><span data-tocid="concept_rg3_nxy_4cb-d46e13995" class="topicref" data-id="concept_rg3_nxy_4cb" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Configuration/PublishMetadata.html#concept_rg3_nxy_4cb">Working with Data Governance Tools</a><span class="wh-tooltip">
                     
                     <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc">You can configure <span class="ph">Data Collector</span> to         integrate with data governance tools, giving you visibility into data movement - where the         data came from,
                        where it’s going to, and who is interacting with it.
                        
                     </p>
                     </span></span></span></li>
         <li><span data-tocid="concept_jdj_4rg_1t-d46e15122" class="topicref" data-id="concept_jdj_4rg_1t" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Configuration/JMXMetrics-EnableExternalTools.html#concept_jdj_4rg_1t">Enabling External JMX Tools</a><span class="wh-tooltip">
                     
                     <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc"><span class="ph">Data Collector</span>     uses JMX metrics to generate the graphical display of the status of a running pipeline. You can     provide the same
                        JMX metrics to external tools if desired.
                        
                     </p>
                     </span></span></span></li>
      </ul>
   </li>
   <li><span data-tocid="concept_ejk_f1f_5v-d46e15233" class="topicref" data-id="concept_ejk_f1f_5v" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Upgrade/Upgrade_title.html">Upgrade</a></span></span></li>
   <li><span data-tocid="concept_qsw_cjy_bt-d46e20068" class="topicref" data-id="concept_qsw_cjy_bt" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Pipeline_Design/PipelineDesign_title.html">Pipeline Concepts and Design</a></span></span></li>
   <li><span data-tocid="concept_qn1_wn4_kq-d46e21748" class="topicref" data-id="concept_qn1_wn4_kq" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Pipeline_Configuration/PipelineConfiguration_title.html">Pipeline Configuration</a></span></span></li>
   <li><span data-tocid="concept_hdr_gyw_41b-d46e24245" class="topicref" data-id="concept_hdr_gyw_41b" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Data_Formats/DataFormats-Title.html">Data Formats</a><span class="wh-tooltip">
               
               <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc"></p>
               </span></span></span></li>
   <li><span data-tocid="concept_yjl_nc5_jq-d46e26060" class="topicref" data-id="concept_yjl_nc5_jq" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Origins/Origins_title.html">Origins</a></span></span></li>
   <li><span data-tocid="concept_yjl_nc5_jq-d46e66858" class="topicref" data-id="concept_yjl_nc5_jq" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Processors/Processors_title.html">Processors</a></span></span></li>
   <li><span data-tocid="concept_agj_cfj_br-d46e81955" class="topicref" data-id="concept_agj_cfj_br" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Destinations/Destinations-title.html">Destinations</a></span></span></li>
   <li><span data-tocid="concept_umc_1lk_fx-d46e97932" class="topicref" data-id="concept_umc_1lk_fx" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Executors/Executors-title.html">Executors</a></span></span></li>
   <li><span data-tocid="concept_fyf_gkq_4bb-d46e103694" class="topicref" data-id="concept_fyf_gkq_4bb" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Edge_Mode/EdgePipelines_title.html"><span xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="ph">StreamSets Data Collector Edge</span></a></span></span></li>
   <li><span data-tocid="concept_ugp_kwf_xw-d46e105613" class="topicref" data-id="concept_ugp_kwf_xw" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/DPM/DPM_title.html">StreamSets Control Hub</a></span></span></li>
   <li><span data-tocid="concept_xxd_f5r_kx-d46e109014" class="topicref" data-id="concept_xxd_f5r_kx" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Event_Handling/EventFramework-Title.html#concept_xxd_f5r_kx">Dataflow Triggers</a><span class="wh-tooltip">
               
               <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc"></p>
               </span></span></span></li>
   <li><span data-tocid="concept_fjj_zcf_2w-d46e112928" class="topicref" data-id="concept_fjj_zcf_2w" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Hive_Drift_Solution/HiveDriftSolution_title.html#concept_fjj_zcf_2w">Drift Synchronization Solution for Hive</a></span></span></li>
   <li><span data-tocid="concept_kgt_pnr_4cb-d46e115754" class="topicref" data-id="concept_kgt_pnr_4cb" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/JDBC_DriftSolution/JDBC_DriftSyncSolution_title.html#concept_kgt_pnr_4cb">Drift Synchronization Solution for PostgreSQL</a></span></span></li>
   <li><span data-tocid="concept_wwq_gxc_py-d46e116553" class="topicref" data-id="concept_wwq_gxc_py" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Multithreaded_Pipelines/MultithreadedPipelines.html#concept_wwq_gxc_py">Multithreaded Pipelines</a><span class="wh-tooltip">
               
               <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc"></p>
               </span></span></span></li>
   <li><span data-tocid="concept_gzw_tdm_p2b-d46e117135" class="topicref" data-id="concept_gzw_tdm_p2b" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Microservice/Microservice_Title.html#concept_gzw_tdm_p2b">Microservice Pipelines</a></span></span></li>
   <li><span data-tocid="concept_wr1_ktz_bt-d46e117357" class="topicref" data-id="concept_wr1_ktz_bt" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/RPC_Pipelines/SDC_RPCpipelines_title.html#concept_wr1_ktz_bt">SDC RPC Pipelines</a></span></span></li>
   <li><span data-tocid="concept_fpz_5r4_vs-d46e117839" class="topicref" data-id="concept_fpz_5r4_vs" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Cluster_Mode/ClusterPipelines_title.html">Cluster Pipelines</a></span></span></li>
   <li><span data-tocid="concept_jjk_23z_sq-d46e119186" class="topicref" data-id="concept_jjk_23z_sq" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Data_Preview/DataPreview_Title.html#concept_jjk_23z_sq">Data Preview</a></span></span></li>
   <li><span data-tocid="concept_pgk_brx_rr-d46e120155" class="topicref" data-id="concept_pgk_brx_rr" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Alerts/RulesAlerts_title.html#concept_pgk_brx_rr">Rules and Alerts</a><span class="wh-tooltip">
               
               <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc"></p>
               </span></span></span></li>
   <li><span data-tocid="concept_asx_fdz_sq-d46e122783" class="topicref" data-id="concept_asx_fdz_sq" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Pipeline_Monitoring/PipelineMonitoring_title.html#concept_asx_fdz_sq">Pipeline Monitoring</a><span class="wh-tooltip">
               
               <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc"></p>
               </span></span></span></li>
   <li><span data-tocid="concept_o3l_dtr_5q-d46e124040" class="topicref" data-id="concept_o3l_dtr_5q" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Pipeline_Maintenance/PipelineMaintenance_title.html#concept_o3l_dtr_5q">Pipeline Maintenance</a></span></span></li>
   <li><span data-tocid="concept_yms_ftm_sq-d46e125831" class="topicref" data-id="concept_yms_ftm_sq" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Administration/Administration_title.html#concept_yms_ftm_sq">Administration</a><span class="wh-tooltip">
               
               <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc"></p>
               </span></span></span></li>
   <li><span data-tocid="concept_nls_w1r_ks-d46e130328" class="topicref" data-id="concept_nls_w1r_ks" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Tutorial/Tutorial-title.html">Tutorial</a></span></span></li>
   <li><span data-tocid="concept_sh3_frm_tq-d46e131541" class="topicref" data-id="concept_sh3_frm_tq" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Troubleshooting/Troubleshooting_title.html#concept_sh3_frm_tq">Troubleshooting</a><span class="wh-tooltip">
               
               <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc"></p>
               </span></span></span></li>
   <li><span data-tocid="concept_xbx_rs1_tq-d46e136033" class="topicref" data-id="concept_xbx_rs1_tq" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Glossary/Glossary_title.html#concept_xbx_rs1_tq">Glossary</a></span></span></li>
   <li><span data-tocid="concept_jn1_nzb_kv-d46e136088" class="topicref" data-id="concept_jn1_nzb_kv" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Apx-DataFormats/DataFormat_Title.html#concept_jn1_nzb_kv">Data Formats by Stage</a><span class="wh-tooltip">
               
               <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc"></p>
               </span></span></span></li>
   <li><span data-tocid="concept_pvm_yt3_wq-d46e136248" class="topicref" data-id="concept_pvm_yt3_wq" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Expression_Language/ExpressionLanguage_title.html">Expression Language</a></span></span></li>
   <li><span data-tocid="concept_vcj_1ws_js-d46e137892" class="topicref" data-id="concept_vcj_1ws_js" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Apx-RegEx/RegEx-Title.html#concept_vcj_1ws_js">Regular Expressions</a><span class="wh-tooltip">
               
               <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc"></p>
               </span></span></span></li>
   <li><span data-tocid="concept_chv_vmj_wr-d46e138115" class="topicref" data-id="concept_chv_vmj_wr" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Apx-GrokPatterns/GrokPatterns_title.html#concept_chv_vmj_wr">Grok Patterns</a><span class="wh-tooltip">
               
               <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc"></p>
               </span></span></span></li>
</ul></div>
                        </nav>
                    
                    
                    <div class="col-lg-9 col-md-9 col-sm-9 col-xs-12" id="wh_topic_body">
                        <div class=" wh_topic_content body "><main role="main"><article role="article" aria-labelledby="ariaid-title1"><article class="nested0" aria-labelledby="ariaid-title1" id="concept_bt1_bpj_r1b">
    <h1 class="title topictitle1" id="ariaid-title1">Credential Stores</h1>

    
    <div class="body conbody"><p class="shortdesc"><span class="ph">Data Collector</span>
        pipeline stages communicate with external systems to read and write data. Many of these
        external systems require credentials - user names or passwords - to access the data. When
        you configure pipeline stages for these external systems, you define the credentials that
        the stage uses to connect to the system.</p>

        <p class="p">If
            you enter credential values directly in stage properties, you expose the credentials to
            any user with access to the pipeline. To access external systems without exposing the
            credentials, define credentials in a credential store and then use the <span class="ph">Data Collector</span>
            <a class="xref" href="../Expression_Language/Functions.html#concept_yvc_3qs_r1b">credential functions</a> in the stage properties to retrieve those values. </p>

        <div class="p"><span class="ph">Data Collector</span> has
            a credential store API that integrates with the following credential store systems:<ul class="ul" id="concept_bt1_bpj_r1b__ul_sgq_wqs_51b">
                <li class="li"><a class="xref" href="CredentialStores.html#concept_v21_nvd_fbb">CyberArk</a>
                    - Securely store credentials in CyberArk.</li>

                <li class="li"><a class="xref" href="CredentialStores.html#concept_s3y_dps_51b">Hashicorp
                        Vault</a> - Securely store credentials in Hashicorp Vault.</li>

                <li class="li"><a class="xref" href="CredentialStores.html#concept_b3c_m2n_r1b" title="To use the Java keystore credential store system, install the Java keystore credential store stage library and define the configuration properties used to connect to the credential store.">Java keystore</a>
                    - Securely store credentials in a Java keystore file.</li>

                <li class="li"><a class="xref" href="CredentialStores.html#concept_t3k_ct3_cfb">Microsoft Azure Key
                        Vault</a> - Securely store credentials in Microsoft Azure Key Vault.</li>

            </ul>
</div>

        <div class="p">
            <div class="note important"><span class="importanttitle">Important:</span> Use the Java keystore credential store system in a development
                environment only. In a production environment, use a centralized keystore, such as
                CyberArk, Hashicorp Vault, or Azure Key Vault, to better secure credentials. A Java
                keystore credential storage system requires the distribution of a keystore file,
                which complicates security. Before using a Java keystore system, decide how the
                keystore will be distributed and consult with your IT security team to ensure that
                the system meets IT policies.</div>

        </div>

        <p class="p">You can configure a <span class="ph">Data Collector</span> to
            use multiple credential stores at the same time. Each credential store is identified by
            a unique ID.</p>

        <div class="note tip"><span class="tiptitle">Tip:</span> When you define credentials in a credential store instead of directly in
            stage properties, you also make it easier to migrate pipelines to another environment.
            For example, if you migrate multiple pipelines from a development to a production
            environment, you do not need to edit each pipeline to define the correct credentials for
            the production environment. You can simply replace the development credentials store
            with the production version.</div>

    </div>

<article class="topic concept nested1" aria-labelledby="ariaid-title2" id="concept_g53_vdn_r1b">
 <h2 class="title topictitle2" id="ariaid-title2">Group Access to Credentials</h2>

    
 <div class="body conbody"><p class="shortdesc">When you use credential functions in a pipeline, you can further secure the
        credential values by allowing only a specific group the ability to validate, preview, or run
        the pipeline.</p>

        <p class="p">The credential functions include a group argument that defines the group that can access
            the credential. Only users that have execute permission on the pipeline and that belong
            to this group can validate, preview, or run the pipeline that retrieves the credential
            values. </p>

        <p class="p">When working only with <span class="ph">Data Collector</span>,
            simply specify the group name, such as "devops". When working with <span class="ph">Control Hub</span>,
            specify the group using the required naming convention: &lt;group ID&gt;@&lt;organization
            ID&gt;. For example, "devops@MyCompany". </p>

        <p class="p">If you do not want to restrict access to the credentials, specify the default "all" group
            when working only with <span class="ph">Data Collector</span> or
            the default "all@&lt;organization ID&gt;" group when working with <span class="ph">Control Hub</span>.</p>

        <div class="note note"><span class="notetitle">Note:</span> If <span class="ph">Data Collector</span> shuts down while running a pipeline that uses a credential function, <span class="ph">Data Collector</span>
            restarts the pipeline without checking the group access.</div>

 </div>

</article>
<article class="topic concept nested1" aria-labelledby="ariaid-title3" id="concept_v21_nvd_fbb">
 <h2 class="title topictitle2" id="ariaid-title3">CyberArk</h2>

 <div class="body conbody">
  <p class="p">To use the CyberArk credential
            store system, install the CyberArk credential store stage library and define the
            configuration properties used to connect to CyberArk Application Identity Manager. Then,
            use credential functions in pipeline stage properties to retrieve the credential
            values.</p>

        <div class="p">At this time, CyberArk integration is only supported using web services to the CyberArk
            Central Credential Provider.<div class="note note"><span class="notetitle">Note:</span> This documentation includes details about CyberArk to
                simplify the configuration process. For more information, see the CyberArk
                documentation.</div>
</div>

 </div>

<article class="topic concept nested2" aria-labelledby="ariaid-title4" id="concept_vcd_rwd_fbb">
 <h3 class="title topictitle3" id="ariaid-title4">Step 1. Install the Credential Store Stage Library</h3>

 
 <div class="body conbody"><p class="shortdesc">By default, a full <span class="ph">Data Collector</span>
        installation includes the CyberArk credential store stage library. The core installation
        does not include the library.</p>

  <p class="p">To verify that a <span class="ph">Data Collector</span>
            has the CyberArk credential store stage library installed, click the Package Manager
            icon (<img class="image" id="concept_vcd_rwd_fbb__image_hgv_t1q_rx" src="../Graphics/icon_PackageManager.png" height="13" width="16" />) to display the list of installed stage libraries. If the library is not installed,
                <a class="xref" href="../Installation/AddtionalStageLibs.html#concept_fb2_qmn_bz">install the
                library</a> before configuring the CyberArk credential store.</p>

 </div>

</article>
<article class="topic concept nested2" aria-labelledby="ariaid-title5" id="concept_uzp_gfj_fbb">
 <h3 class="title topictitle3" id="ariaid-title5">Step 2. Configure the Credential Store Properties</h3>

 <div class="body conbody">
  <div class="p">To enable <span class="ph">Data Collector</span> to
            connect to the CyberArk credential store, configure the CyberArk properties in the
                <span class="ph filepath">$SDC_CONF/credential-stores.properties</span> file.<div class="note important"><span class="importanttitle">Important:</span> <span class="ph">For a Cloudera Manager installation, configure all credential store
                properties through Cloudera Manager. In Cloudera Manager, select the StreamSets
                service and then click Configuration. Add a line for each credential store property
                to the Data Collector Advanced Configuration Snippet (Safety Valve) for
                sdc.properties field as follows:</span>
                <pre class="pre codeblock"><code>credentialStores=cyberark</code></pre></div>
</div>
<ol class="ol">
                <li class="li">Uncomment the <span class="ph uicontrol">credentialStores</span> property in the file.<p class="p">If
                    enabling only the CyberArk credential store, set the property to "cyberark". If
                    enabling multiple credential stores, set the property to each credential store
                    type. For example, to use both the Java keystore and the CyberArk credential
                    stores, set the value to "jks,cyberark". </p>
</li>

                <li class="li">Configure the following properties in the CyberArk Credential Store section of
                the file. <p class="p">The CyberArk credential store definition, web service URL, and
                    application ID are required properties. Uncomment and configure other properties
                    as needed.</p>
<p class="p">The file includes the following properties:</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="concept_uzp_gfj_fbb__table_spl_ycl_r1b" class="table" frame="border" border="1" rules="all"><colgroup><col style="width:46%" /><col style="width:54%" /></colgroup><thead class="thead" style="text-align:left;">
                            <tr>
                                <th class="entry cellrowborder" id="d33709e504">CyberArk Property</th>

                                <th class="entry cellrowborder" id="d33709e507">Description</th>

                            </tr>

                        </thead>
<tbody class="tbody">
                            <tr>
                                <td class="entry cellrowborder" headers="d33709e504 ">credentialStore.cyberark.def</td>

                                <td class="entry cellrowborder" headers="d33709e507 ">Required. Defines the implementation of the CyberArk
                                    credential store.<p class="p">Do not change the default value.</p>
</td>

                            </tr>

                            <tr>
                                <td class="entry cellrowborder" headers="d33709e504 ">credentialStore.cyberark.config.credential.refresh.millis</td>

                                <td class="entry cellrowborder" headers="d33709e507 ">Optional. Number of milliseconds that <span class="ph">Data Collector</span> locally caches a credential. When the time expires, <span class="ph">Data Collector</span> retrieves the credential from CyberArk.</td>

                            </tr>

                            <tr>
                                <td class="entry cellrowborder" headers="d33709e504 ">credentialStore.cyberark.config.credential.retry.millis</td>

                                <td class="entry cellrowborder" headers="d33709e507 ">Optional. Number of milliseconds that <span class="ph">Data Collector</span> waits before attempting to retry a retrieval of a credential
                                    from CyberArk, in the case of an error.</td>

                            </tr>

                            <tr>
                                <td class="entry cellrowborder" headers="d33709e504 ">credentialStore.cyberark.config.connector</td>

                                <td class="entry cellrowborder" headers="d33709e507 ">Optional. Connector type to CyberArk. Leave the default of
                                    “webservices” since only web services is currently
                                    supported.</td>

                            </tr>

                            <tr>
                                <td class="entry cellrowborder" headers="d33709e504 ">credentialStore.cyberark.config.ws.url</td>

                                <td class="entry cellrowborder" headers="d33709e507 ">Required. CyberArk Central Credential Provider web service
                                    URL. <p class="p">Use the following
                                    format:</p>
<pre class="pre codeblock"><code>https://&lt;host name&gt;:&lt;port&gt;/AIMWebService/api/Accounts</code></pre></td>

                            </tr>

                            <tr>
                                <td class="entry cellrowborder" headers="d33709e504 ">credentialStore.cyberark.config.ws.appId</td>

                                <td class="entry cellrowborder" headers="d33709e507 ">Required. CyberArk application ID for this <span class="ph">Data Collector</span>. You must create the application ID in CyberArk.</td>

                            </tr>

                            <tr>
                                <td class="entry cellrowborder" headers="d33709e504 ">credentialStore.cyberark.config.ws.maxConcurrentConnections</td>

                                <td class="entry cellrowborder" headers="d33709e507 ">Optional. Maximum number of concurrent web service calls that
                                        <span class="ph">Data Collector</span> can make to CyberArk.</td>

                            </tr>

                            <tr>
                                <td class="entry cellrowborder" headers="d33709e504 ">credentialStore.cyberark.config.ws.validateAfterInactivity.millis</td>

                                <td class="entry cellrowborder" headers="d33709e507 ">Optional. Number of milliseconds of inactivity before <span class="ph">Data Collector</span> validates the HTTP connection to CyberArk.</td>

                            </tr>

                            <tr>
                                <td class="entry cellrowborder" headers="d33709e504 ">credentialStore.cyberark.config.ws.connectionTimeout.millis</td>

                                <td class="entry cellrowborder" headers="d33709e507 ">Optional. Number of milliseconds to wait for a connection to
                                    CyberArk.</td>

                            </tr>

                            <tr>
                                <td class="entry cellrowborder" headers="d33709e504 ">credentialStore.cyberark.config.ws.nameSeparator</td>

                                <td class="entry cellrowborder" headers="d33709e507 ">Optional. Separator to use for the CyberArk safe, folder,
                                    object name, and element name values in the credential name
                                    argument used by the credential functions.<div class="p">Use the following
                                        format for the name
                                        argument:<pre class="pre codeblock"><code>&lt;safe&gt;&lt;separator&gt;&lt;folder&gt;&lt;separator&gt;&lt;object name&gt;&lt;separator&gt;&lt;element name&gt;</code></pre></div>
<div class="p">For
                                        example, if you keep the default ampersand (&amp;), the
                                        format for the name argument
                                        is:<pre class="pre codeblock"><code>&lt;safe&gt;&amp;&lt;folder&gt;&amp;&lt;object name&gt;&amp;&lt;element name&gt;</code></pre></div>
</td>

                            </tr>

                            <tr>
                                <td class="entry cellrowborder" headers="d33709e504 ">credentialStore.cyberark.config.ws.http.authentication</td>

                                <td class="entry cellrowborder" headers="d33709e507 ">Optional. Authentication type used by the CyberArk Central
                                    Credential Provider web services: none, basic, or
                                        digest.<p class="p">Default is none.</p>
</td>

                            </tr>

                            <tr>
                                <td class="entry cellrowborder" headers="d33709e504 ">credentialStore.cyberark.config.ws.http.authentication.user</td>

                                <td class="entry cellrowborder" headers="d33709e507 ">Optional. Username if using basic or digest
                                    authentication.</td>

                            </tr>

                            <tr>
                                <td class="entry cellrowborder" headers="d33709e504 ">credentialStore.cyberark.config.ws.http.authentication.password</td>

                                <td class="entry cellrowborder" headers="d33709e507 ">Optional. Password if using basic or digest
                                    authentication.</td>

                            </tr>

                            <tr>
                                <td class="entry cellrowborder" headers="d33709e504 ">credentialStore.cyberark.config.ws.truststoreFile</td>

                                <td class="entry cellrowborder" headers="d33709e507 ">Optional. Path to the truststore file if using HTTPS and the
                                    server certificate is using a private CA or is not trusted by
                                    the Java default truststore file.<p class="p">Enter a path relative to the
                                            <span class="ph">Data Collector</span> configuration directory, $SDC_CONF, or enter an absolute
                                        path.</p>
</td>

                            </tr>

                            <tr>
                                <td class="entry cellrowborder" headers="d33709e504 ">credentialStore.cyberark.config.ws.truststorePassword</td>

                                <td class="entry cellrowborder" headers="d33709e507 ">Optional. Password for the truststore file.</td>

                            </tr>

                            <tr>
                                <td class="entry cellrowborder" headers="d33709e504 ">credentialStore.cyberark.config.ws.supportedProtocols</td>

                                <td class="entry cellrowborder" headers="d33709e507 ">Optional. SSL/TLS-enabled protocols. Versions TLSv1.2 or
                                    later are recommended.</td>

                            </tr>

                            <tr>
                                <td class="entry cellrowborder" headers="d33709e504 ">credentialStore.cyberark.config.ws.hostnameVerifier.skip</td>

                                <td class="entry cellrowborder" headers="d33709e507 ">Optional. Determines whether the host name of the CyberArk
                                    Central Credential Provider web services should be verified
                                    against the domain defined in the HTTPS certificate.<p class="p">By
                                        default, the host name is verified.</p>
</td>

                            </tr>

                            <tr>
                                <td class="entry cellrowborder" headers="d33709e504 ">credentialStore.cyberark.config.ws.keystoreFile</td>

                                <td class="entry cellrowborder" headers="d33709e507 ">Optional. If using HTTPS and the CyberArk Central Credential
                                    Provider web services requires client side certificates, the
                                    path to the keystore file that contains the client certificate.
                                        <p class="p">Enter a path relative to the <span class="ph">Data Collector</span> configuration directory, $SDC_CONF, or enter an absolute
                                        path.</p>
</td>

                            </tr>

                            <tr>
                                <td class="entry cellrowborder" headers="d33709e504 ">credentialStore.cyberark.config.ws.keystorePassword</td>

                                <td class="entry cellrowborder" headers="d33709e507 ">Optional. Password for the keystore file.</td>

                            </tr>

                            <tr>
                                <td class="entry cellrowborder" headers="d33709e504 ">credentialStore.cyberark.config.ws.keyPassword</td>

                                <td class="entry cellrowborder" headers="d33709e507 ">Optional. Password to access the certificate within the
                                    keystore file.</td>

                            </tr>

                        </tbody>
</table>
</div>
</li>

                <li class="li">Restart <span class="ph">Data Collector</span> to enable the changes.</li>

            </ol>

 </div>

</article>
<article class="topic concept nested2" aria-labelledby="ariaid-title6" id="concept_v4p_2mj_fbb">
 <h3 class="title topictitle3" id="ariaid-title6">Step 3. Call the Credentials from the Pipeline</h3>

 
 <div class="body conbody"><p class="shortdesc">Use the <code class="ph codeph">credential:get()</code> or
            <code class="ph codeph">credential:getWithOptions()</code> function in pipeline stage properties to
        retrieve credential values from CyberArk. </p>

  <p class="p">Use the credential functions in any stage property that displays the key icon next to it. For
            example:</p>

        <p class="p"><img class="image" id="concept_v4p_2mj_fbb__image_e4w_ssx_v1b" src="../Graphics/CredentialStores_KeyIcon.png" height="224" width="696" /></p>

        <div class="note important"><span class="importanttitle">Important:</span> When you use a credential function in a stage
                property, the function must be the only value defined in the property. For example,
                you cannot include another function or a literal value along with the credential
                function.</div>

        <div class="p">The credential functions use the following arguments:<ul class="ul" id="concept_v4p_2mj_fbb__ul_wyt_zk5_51b">
                <li class="li">storeId - Unique ID of the credential store to use. Enter "cyberark" to access
                    the CyberArk credential store.</li>

                <li class="li">userGroup - Group to which a user must belong before that
                user can access the credential. Only users that have execute permission on the
                pipeline and that belong to this group can validate, preview, or run the pipeline
                that retrieves the credential values. <p class="p">If working with <span class="ph">Control Hub</span>, specify the
                    group using the required naming convention: &lt;group ID&gt;@&lt;organization ID&gt;.
                    To grant access to all users, specify the default "all" group when working only
                    with <span class="ph">Data Collector</span> or the
                    default "all@&lt;organization ID&gt;" group when working with <span class="ph">Control Hub</span>.</p>
</li>

                <li class="li">name - Name of the credential value to retrieve from CyberArk. Use the following
                    format: <code class="ph codeph">"&lt;safe&gt;&lt;separator&gt;&lt;folder&gt;&lt;separator&gt;&lt;object
                        name&gt;&lt;separator&gt;&lt;element name&gt;"</code>, where:<ul class="ul" id="concept_v4p_2mj_fbb__ul_wb2_hnj_fbb">
                        <li class="li"><code class="ph codeph">&lt;safe&gt;</code> is the CyberArk safe to read. For example,
                            "production".</li>

                        <li class="li"><code class="ph codeph">&lt;separator&gt;</code> is the separator defined for the safe,
                            folder, object name, and element name values in the
                                <span class="ph filepath">$SDC_CONF/credential-stores.properties</span> file. Or
                            if you use the <code class="ph codeph">credential:getWithOptions()</code> function,
                            you can define the separator in the options argument.</li>

                        <li class="li"><code class="ph codeph">&lt;folder&gt;</code> is the folder in CyberArk to read. For
                            example, "Root\\sqldatabases".</li>

                        <li class="li"><code class="ph codeph">&lt;object name&gt;</code> is the object in CyberArk to read. For
                            example, "payroll".</li>

                        <li class="li"><code class="ph codeph">&lt;element name&gt;</code> is the name for the value that you
                            want returned. For example, "Content" to return the password. Or
                            "Username" to return an optional user name value. If you do not specify
                                <code class="ph codeph">&lt;element name&gt;</code> in the credential name argument,
                                <span class="ph">Data Collector</span> uses "Content".</li>

                    </ul>
</li>

                <li class="li">storeOptions - Used only by the <code class="ph codeph">credential:getWithOptions()</code>
                    function. Additional options to communicate with the credential store. For
                    CyberArk, you can use the following options:<ul class="ul" id="concept_v4p_2mj_fbb__ul_kb1_c4c_hbb">
                        <li class="li"><code class="ph codeph">separator</code> - Separator to use for the credential
                            name.</li>

                        <li class="li"><code class="ph codeph">ConnectionTimeout</code> - Connection timeout value in
                            milliseconds.</li>

                        <li class="li"><code class="ph codeph">FailRequestOnPasswordChange</code> - Whether to fail the
                            request on a password change, set to true or false. See the CyberArk
                            documentation for details on this option.</li>

                    </ul>
<div class="p">Use the following format to specify
                        options:<pre class="pre codeblock"><code>"&lt;option1&gt;=&lt;value&gt;,&lt;option2&gt;=&lt;value&gt;"</code></pre></div>
<div class="p">For
                        example, to use the pipe symbol (|) as the separator, enter the following
                        for the options argument:<pre class="pre codeblock"><code>"separator=|"</code></pre></div>
</li>

            </ul>
</div>

        <div class="p">For example, the following expression returns the password for the payroll object stored
            in the CyberArk Root\\sqldatabases folder in the production safe. The credential name
            argument uses the default ampersand (&amp;) as the separator. The expression allows any
            user belonging to the devops group access to the credential when validating, previewing,
            or running the
            pipeline:<pre class="pre codeblock"><code>${credential:get("cyberark", "devops", "production&amp;Root\\sqldatabases&amp;payroll&amp;Content")}</code></pre></div>

        <div class="p">The following expression returns the same password, but specifies the pipe symbol (|) as
            the
            separator:<pre class="pre codeblock"><code>${credential:getWithOptions("cyberark", "devops", "production|Root\\sqldatabases|payroll|Content", "separator=|")}</code></pre></div>

 </div>

</article>
</article>
<article class="topic concept nested1" aria-labelledby="ariaid-title7" id="concept_s3y_dps_51b">
 <h2 class="title topictitle2" id="ariaid-title7">Hashicorp Vault</h2>

 <div class="body conbody">
  <p class="p">To use the Hashicorp Vault
            credential store system, install the Vault credential store stage library and define the
            configuration properties used to connect to Hashicorp Vault. Then, use credential
            functions in pipeline stage properties to retrieve the credential values.</p>

        <div class="note note"><span class="notetitle">Note:</span> This documentation includes details about Hashicorp Vault to simplify the
            configuration process. For more information, see the Vault documentation.</div>

 </div>

<article class="topic concept nested2" aria-labelledby="ariaid-title8" id="concept_kyt_lps_51b">
 <h3 class="title topictitle3" id="ariaid-title8">Step 1. Install the Credential Store Stage Library</h3>

 
 <div class="body conbody"><p class="shortdesc">By default, a full <span class="ph">Data Collector</span>
        installation includes the Hashicorp Vault keystore credential store stage library. The core
        installation does not include the library.</p>

  <p class="p">To verify that a <span class="ph">Data Collector</span> has
            the Hashicorp Vault credential store stage library installed, click the Package Manager
            icon (<img class="image" id="concept_kyt_lps_51b__image_hgv_t1q_rx" src="../Graphics/icon_PackageManager.png" height="13" width="16" />) to display the list of installed stage libraries. If the library is not installed,
                <a class="xref" href="../Installation/AddtionalStageLibs.html#concept_fb2_qmn_bz">install the
                library</a> before configuring the Hashicorp Vault credential store.</p>

 </div>

</article>
<article class="topic concept nested2" aria-labelledby="ariaid-title9" id="concept_bhn_4ps_51b">
 <h3 class="title topictitle3" id="ariaid-title9">Step 2. Configure the Credential Store Properties</h3>

 <div class="body conbody">
        <p class="p">To enable <span class="ph">Data Collector</span> to
            connect to the Hashicorp Vault credential store, configure the Hashicorp Vault
            properties in the <span class="ph filepath">$SDC_CONF/credential-stores.properties</span> file.</p>

        <div class="note important"><span class="importanttitle">Important:</span> 
            <span class="ph">For a Cloudera Manager installation, configure all credential store
                properties through Cloudera Manager. In Cloudera Manager, select the StreamSets
                service and then click Configuration. Add a line for each credential store property
                to the Data Collector Advanced Configuration Snippet (Safety Valve) for
                sdc.properties field as follows:</span><pre class="pre codeblock"><code>credentialStores=vault</code></pre></div>

        <ol class="ol">
            <li class="li">Uncomment the <span class="ph uicontrol">credentialStores</span> property in the file.<p class="p">If
                    enabling only the Hashicorp Vault credential store, set the property to "vault".
                    If enabling multiple credential stores, set the property to each credential
                    store type. For example, to use both the Java keystore and the Hashicorp Vault
                    credential stores, set the value to "jks,vault".</p>
</li>

            <li class="li">Configure the following properties in the Hashicorp Vault Credential Store section
                of the file. <p class="p">The Vault credential store definition, server URL, Role ID, and
                    Secret ID are required properties. Configure other properties as needed:</p>
<div class="p">
                    
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="concept_bhn_4ps_51b__table_yjv_42v_51b" class="table" frame="border" border="1" rules="all"><colgroup><col style="width:46%" /><col style="width:54%" /></colgroup><thead class="thead" style="text-align:left;">
     <tr>
      <th class="entry cellrowborder" id="d33709e1026">Vault Property</th>

      <th class="entry cellrowborder" id="d33709e1029">Description</th>

     </tr>

    </thead>
<tbody class="tbody">
     <tr>
      <td class="entry cellrowborder" headers="d33709e1026 ">credentialStore.vault.def</td>

      <td class="entry cellrowborder" headers="d33709e1029 ">Required. Defines the implementation of the Vault credential store. <p class="p">Do not change
        the default value.</p>
</td>

     </tr>

     <tr>
      <td class="entry cellrowborder" headers="d33709e1026 ">credentialStore.vault.config.pathKey.separator</td>

      <td class="entry cellrowborder" headers="d33709e1029 ">Optional. Separator to use for the path and key values in the credential name argument
       used by the <a class="xref" href="../Expression_Language/Functions.html#concept_yvc_3qs_r1b">credential functions</a>.<div class="p">You use the following format for the name
        argument:<pre class="pre codeblock"><code>&lt;path&gt;&lt;separator&gt;&lt;key&gt;</code></pre></div>
<div class="p">For example, if you
        keep the default ampersand (&amp;), the format for the name argument
        is:<pre class="pre codeblock"><code>&lt;path&gt;&amp;&lt;key&gt;</code></pre></div>
</td>

     </tr>

     <tr id="concept_bhn_4ps_51b__d262e5028">
      <td class="entry cellrowborder" headers="d33709e1026 ">credentialStore.vault.config.addr</td>

      <td class="entry cellrowborder" headers="d33709e1029 ">Required. Vault server URL entered in the following
        format:<pre class="pre codeblock"><code>https://&lt;host name&gt;:&lt;port number&gt;</code></pre><p class="p">Use HTTPS to avoid
        unencrypted communication.</p>
</td>

     </tr>

     <tr id="concept_bhn_4ps_51b__d262e5041">
      <td class="entry cellrowborder" headers="d33709e1026 ">credentialStore.vault.config.role.id</td>

      <td class="entry cellrowborder" headers="d33709e1029 ">Required. Vault Role ID that <span class="ph">Data Collector</span> uses to authenticate with Vault.
       The Role ID is configured within Vault by your Vault administrator. <div class="p">The <span class="ph">Data Collector</span> Vault integration relies on
        Vault's App Role authentication backend.<div class="note important"><span class="importanttitle">Important:</span> The App ID authentication
         backend has been deprecated by Hashicorp and will be removed in a future release. As a
         result, do not configure the credentialStore.vault.config.app.id property for new
         installations.</div>
</div>
</td>

     </tr>

     <tr id="concept_bhn_4ps_51b__d262e5058">
      <td class="entry cellrowborder" headers="d33709e1026 ">credentialStore.vault.config.secret.id</td>

      <td class="entry cellrowborder" headers="d33709e1029 ">Required. Vault Secret ID that <span class="ph">Data Collector</span> uses to authenticate with Vault.
       The Secret ID is configured within Vault by your Vault administrator. <div class="p">Enter one of the
         following:<ul class="ul" id="concept_bhn_4ps_51b__d262e5069">
         <li class="li">Secret ID value.</li>

         <li class="li">File that contains the Secret ID value. For increased security, store the Secret ID in
          a separate file and reference the file in the
           <span class="ph filepath">$SDC_CONF/credential-stores.properties</span> file as follows:
          ${file("&lt;filename&gt;")}. <p class="p">By default, the file name is
            <span class="ph filepath">vault-secret-id</span> and expected in the $SDC_CONF directory. For more
           information, see <a class="xref" href="DCConfig.html#concept_aqc_dbt_zr" title="For increased security you can store sensitive information, such as a password, in separate files and reference the files in the Data Collector configuration file, $SDC_CONF/sdc.properties, as follows: ${file(&#34;&lt;filename&gt;&#34;)}.">Referencing Sensitive Values in Files</a>.</p>
</li>

        </ul>
</div>
</td>

     </tr>

     <tr id="concept_bhn_4ps_51b__d262e5090">
      <td class="entry cellrowborder" headers="d33709e1026 ">credentialStore.vault.config.lease.renewal.interval.sec</td>

      <td class="entry cellrowborder" headers="d33709e1029 ">Optional. Seconds to wait before checking for leases that need renewal. <p class="p">Default is
        60. </p>
</td>

     </tr>

     <tr id="concept_bhn_4ps_51b__d262e5101">
      <td class="entry cellrowborder" headers="d33709e1026 ">credentialStore.vault.config.lease.expiration.buffer.sec</td>

      <td class="entry cellrowborder" headers="d33709e1029 ">Optional. Buffer for expiring leases. <span class="ph">Data Collector</span> renews leases that expire in less
       than the specified number of seconds.<p class="p">Default is 120. </p>
</td>

     </tr>

     <tr id="concept_bhn_4ps_51b__d262e5114">
      <td class="entry cellrowborder" headers="d33709e1026 ">credentialStore.vault.config.open.timeout</td>

      <td class="entry cellrowborder" headers="d33709e1029 ">Optional. Timeout to establish an HTTP connection to Vault in milliseconds. <p class="p">Default
        is 0 for no limit. </p>
</td>

     </tr>

     <tr id="concept_bhn_4ps_51b__d262e5125">
      <td class="entry cellrowborder" headers="d33709e1026 ">credentialStore.vault.config.proxy.address</td>

      <td class="entry cellrowborder" headers="d33709e1029 ">Optional. Proxy URL. Configure to use a proxy to access Vault. </td>

     </tr>

     <tr id="concept_bhn_4ps_51b__d262e5134">
      <td class="entry cellrowborder" headers="d33709e1026 ">credentialStore.vault.config.proxy.port</td>

      <td class="entry cellrowborder" headers="d33709e1029 ">Optional. Proxy port. Configure to use a proxy to access Vault. </td>

     </tr>

     <tr id="concept_bhn_4ps_51b__d262e5143">
      <td class="entry cellrowborder" headers="d33709e1026 ">credentialStore.vault.config.proxy.username</td>

      <td class="entry cellrowborder" headers="d33709e1029 ">Optional. Proxy username. Configure to use a proxy to access Vault. </td>

     </tr>

     <tr id="concept_bhn_4ps_51b__d262e5153">
      <td class="entry cellrowborder" headers="d33709e1026 ">credentialStore.vault.config.proxy.password</td>

      <td class="entry cellrowborder" headers="d33709e1029 ">Optional. Proxy password. Configure to use a proxy to access Vault. </td>

     </tr>

     <tr id="concept_bhn_4ps_51b__d262e5162">
      <td class="entry cellrowborder" headers="d33709e1026 ">credentialStore.vault.config.read.timeout</td>

      <td class="entry cellrowborder" headers="d33709e1029 ">Optional. Milliseconds to wait for data before timing out. <p class="p">Default is 0 for no
        limit. </p>
</td>

     </tr>

     <tr id="concept_bhn_4ps_51b__d262e5173">
      <td class="entry cellrowborder" headers="d33709e1026 ">credentialStore.vault.config.ssl.enabled.protocols</td>

      <td class="entry cellrowborder" headers="d33709e1029 ">Optional. SSL/TLS-enabled protocols. Versions TLSv1.2 or later are
        recommended.<p class="p">Default is TLSv1.2,TLSv1.3.</p>
</td>

     </tr>

     <tr id="concept_bhn_4ps_51b__d262e5184">
      <td class="entry cellrowborder" headers="d33709e1026 ">credentialStore.vault.config.ssl.truststore.file</td>

      <td class="entry cellrowborder" headers="d33709e1029 ">Optional. Path to a Java truststore file. Required when using a private CA or
       certificates not trusted by the Java default truststore. </td>

     </tr>

     <tr id="concept_bhn_4ps_51b__d262e5193">
      <td class="entry cellrowborder" headers="d33709e1026 ">credentialStore.vault.config.ssl.truststore.password</td>

      <td class="entry cellrowborder" headers="d33709e1029 ">Optional. Password for the truststore file. </td>

     </tr>

     <tr id="concept_bhn_4ps_51b__d262e5202">
      <td class="entry cellrowborder" headers="d33709e1026 ">credentialStore.vault.config.ssl.verify</td>

      <td class="entry cellrowborder" headers="d33709e1029 ">Optional. Whether to verify that the Vault server hostname matches its
        certificate.<p class="p">Default is true. False is not recommended.</p>
</td>

     </tr>

     <tr id="concept_bhn_4ps_51b__d262e5214">
      <td class="entry cellrowborder" headers="d33709e1026 ">credentialStore.vault.config.ssl.timeout</td>

      <td class="entry cellrowborder" headers="d33709e1029 ">Optional. Timeout for the SSL/TLS handshake in milliseconds. <p class="p">Default is 0 for no
        limit. </p>
</td>

     </tr>

     <tr id="concept_bhn_4ps_51b__d262e5225">
      <td class="entry cellrowborder" headers="d33709e1026 ">credentialStore.vault.config.timeout</td>

      <td class="entry cellrowborder" headers="d33709e1029 ">Optional. Timeout to read from Vault in milliseconds, after a connection has been
        established.<p class="p">Default is 0 for no limit. </p>
</td>

     </tr>

    </tbody>
</table>
</div>

                </div>
</li>

            <li class="li">Restart <span class="ph">Data Collector</span> to enable the changes.</li>

        </ol>

    </div>

</article>
<article class="topic concept nested2" aria-labelledby="ariaid-title10" id="concept_sbq_vps_51b">
 <h3 class="title topictitle3" id="ariaid-title10">Step 3. Call the Credentials from the Pipeline</h3>

 
 <div class="body conbody"><p class="shortdesc">Use the <code class="ph codeph">credential:get()</code> or
            <code class="ph codeph">credential:getWithOptions()</code> function in pipeline stage properties to
        retrieve credential values from Hashicorp Vault. </p>

        <p class="p">Use the credential functions in any stage property that displays the key icon next to it.
            For example:</p>

        <p class="p"><img class="image" id="concept_sbq_vps_51b__image_e4w_ssx_v1b" src="../Graphics/CredentialStores_KeyIcon.png" height="224" width="696" /></p>

     <div class="note important"><span class="importanttitle">Important:</span> When you use a credential function in a stage
                property, the function must be the only value defined in the property. For example,
                you cannot include another function or a literal value along with the credential
                function.</div>

        <div class="p">The credential functions use the following arguments:<ul class="ul" id="concept_sbq_vps_51b__ul_wyt_zk5_51b">
                <li class="li">storeId - Unique ID of the credential store to use. Enter "vault" to access the
                    Hashicorp Vault credential store.</li>

                <li class="li">userGroup - Group to which a user must belong before that
                user can access the credential. Only users that have execute permission on the
                pipeline and that belong to this group can validate, preview, or run the pipeline
                that retrieves the credential values. <p class="p">If working with <span class="ph">Control Hub</span>, specify the
                    group using the required naming convention: &lt;group ID&gt;@&lt;organization ID&gt;.
                    To grant access to all users, specify the default "all" group when working only
                    with <span class="ph">Data Collector</span> or the
                    default "all@&lt;organization ID&gt;" group when working with <span class="ph">Control Hub</span>.</p>
</li>

                <li class="li">name - Name of the credential value to retrieve from Hashicorp Vault. Use the
                    following format: <code class="ph codeph">"&lt;path&gt;&lt;separator&gt;&lt;key&gt;"</code>, where:<ul class="ul" id="concept_sbq_vps_51b__ul_rfv_3lx_v1b">
                        <li class="li"><code class="ph codeph">&lt;path&gt;</code> is the path in Vault to read.</li>

                        <li class="li"><code class="ph codeph">&lt;separator&gt;</code> is the separator defined for the path
                            and key values in the
                                <span class="ph filepath">$SDC_CONF/credential-stores.properties</span>
                            file.</li>

                        <li class="li"><code class="ph codeph">&lt;key&gt;</code> is the key for the value that you want
                            returned.</li>

                    </ul>
</li>

                <li class="li">storeOptions - Used only by the <code class="ph codeph">credential:getWithOptions()</code>
                    function. Additional options to communicate with the credential store. For
                    Hashicorp Vault, you can enter a delay in milliseconds to allow time for
                    external processing. Use the delay option when using the Vault AWS secret
                    backend to generate AWS access credentials based on IAM policies. According to
                    Vault documentation, you might need a delay of 10 seconds or more before the
                    credentials can be used successfully.<p class="p">Use the following format to specify an
                        option:</p>
<pre class="pre codeblock"><code>"&lt;option&gt;=&lt;option&gt;"</code></pre><div class="p">For example,
                        to set the Vault delay to 1,000 milliseconds, enter the following for the
                        options argument:<pre class="pre codeblock"><code>"delay=1000"</code></pre></div>
</li>

            </ul>
</div>

        <div class="p">For example, the following expression returns the value of
            the key password stored in the Vault path /secret/databases/oracle after waiting for a
            delay of 1,000 milliseconds. The credential name argument uses the default ampersand
            (&amp;) as the separator. The expression allows any user belonging to the devops group
            access to the credential when validating, previewing, or running the
            pipeline:<pre class="pre codeblock"><code>${credential:getWithOptions("vault", "devops", "/secret/databases/oracle&amp;password", "delay=1000")}</code></pre></div>

 </div>

    <nav role="navigation" class="related-links">
<div class="linklist linklist relinfo relconcepts"><strong>Related concepts</strong><br />

<div class="related_link"><a class="navheader_parent_path" href="../Expression_Language/Functions.html#concept_yvc_3qs_r1b" title="Credential Functions">Credential Functions</a></div></div>
</nav>
</article>
</article>
<article class="topic concept nested1" aria-labelledby="ariaid-title11" id="concept_b3c_m2n_r1b">
 <h2 class="title topictitle2" id="ariaid-title11">Java Keystore</h2>

    
 <div class="body conbody"><p class="shortdesc">To use the Java keystore credential store system, install the Java keystore
        credential store stage library and define the configuration properties used to connect to
        the credential store. </p>

        <div class="p">Use the <code class="ph codeph">stagelib-cli
                jks-credentialstore</code> command to add credentials to the credential store.
            Then, use credential functions in pipeline stage properties to retrieve the credential
                values.<div class="note important"><span class="importanttitle">Important:</span> Use the Java keystore credential store system in
                development environments only.</div>
</div>

    </div>

<article class="topic concept nested2" aria-labelledby="ariaid-title12" id="concept_ktc_kwk_r1b">
 <h3 class="title topictitle3" id="ariaid-title12">Step 1. Install the Credential Store Stage Library</h3>

 
 <div class="body conbody"><p class="shortdesc">By default, a full <span class="ph">Data Collector</span>
        installation includes the Java keystore credential store stage library. The core
        installation does not include the library.</p>

        <p class="p">To verify that a <span class="ph">Data Collector</span>
            has the Java keystore credential store stage library installed, click the Package
            Manager icon (<img class="image" id="concept_ktc_kwk_r1b__image_hgv_t1q_rx" src="../Graphics/icon_PackageManager.png" height="13" width="16" />) to display the list of installed stage libraries. If the
            library is not installed, <a class="xref" href="../Installation/AddtionalStageLibs.html#concept_fb2_qmn_bz">install the
                library</a> before configuring the Java keystore credential store.</p>

 </div>

</article>
<article class="topic concept nested2" aria-labelledby="ariaid-title13" id="concept_cg5_51l_r1b">
 <h3 class="title topictitle3" id="ariaid-title13">Step 2. Configure the Credential Store Properties</h3>

 <div class="body conbody">
        <p class="p">To enable <span class="ph">Data Collector</span> to
            connect to the Java keystore credential store, configure the Java keystore properties in
            the <span class="ph filepath">$SDC_CONF/credential-stores.properties</span> file.</p>

        <div class="note important"><span class="importanttitle">Important:</span> 
            <span class="ph">For a Cloudera Manager installation, configure all credential store
                properties through Cloudera Manager. In Cloudera Manager, select the StreamSets
                service and then click Configuration. Add a line for each credential store property
                to the Data Collector Advanced Configuration Snippet (Safety Valve) for
                sdc.properties field as follows:</span><pre class="pre codeblock"><code>credentialStores=jks</code></pre></div>

        <ol class="ol" id="concept_cg5_51l_r1b__ol_trs_xcl_r1b">
            <li class="li">Uncomment the <span class="ph uicontrol">credentialStores</span> property in the file.<p class="p">If
                    enabling only the Java keystore credential store, set the property to "jks". If
                    enabling multiple credential stores, set the property to each credential store
                    type. For example, to use both the Java keystore and the Vault credential
                    stores, set the value to "jks,vault".</p>
</li>

            <li class="li">Configure the following properties in the Java Keystore Credential Store section of
                the file:
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="concept_cg5_51l_r1b__table_spl_ycl_r1b" class="table" frame="border" border="1" rules="all"><colgroup><col style="width:46%" /><col style="width:54%" /></colgroup><thead class="thead" style="text-align:left;">
                            <tr>
                                <th class="entry cellrowborder" id="d33709e1537">Java Keystore Property</th>

                                <th class="entry cellrowborder" id="d33709e1540">Description</th>

                            </tr>

                        </thead>
<tbody class="tbody">
                            <tr>
                                <td class="entry cellrowborder" headers="d33709e1537 ">credentialStore.jks.def</td>

                                <td class="entry cellrowborder" headers="d33709e1540 ">Defines the implementation of the Java Keystore credential
                                        store.<p class="p">Do not change the default value.</p>
</td>

                            </tr>

                            <tr>
                                <td class="entry cellrowborder" headers="d33709e1537 ">credentialStore.jks.config.keystore.type</td>

                                <td class="entry cellrowborder" headers="d33709e1540 ">Format of the Java keystore file:<ul class="ul" id="concept_cg5_51l_r1b__ul_tpl_ycl_r1b">
                                        <li class="li">JCEKS</li>

                                        <li class="li">PKCS12</li>

                                    </ul>
<p class="p">Default is PKCS12.</p>
</td>

                            </tr>

                            <tr>
                                <td class="entry cellrowborder" headers="d33709e1537 ">credentialStore.jks.config.keystore.file</td>

                                <td class="entry cellrowborder" headers="d33709e1540 ">Path and name of the Java keystore file. Enter an absolute
                                    path to the file, or a path relative to the <span class="ph">Data Collector</span> configuration directory, $SDC_CONF.<p class="p">Default is
                                            <span class="ph filepath">jks-credentialStore.pkcs12</span>.</p>
</td>

                            </tr>

                            <tr>
                                <td class="entry cellrowborder" headers="d33709e1537 ">credentialStore.jks.config.keystore.storePassword</td>

                                <td class="entry cellrowborder" headers="d33709e1540 ">Password that <span class="ph">Data Collector</span> uses to access the Java keystore file. <p class="p">You must change the
                                        default value before using the keystore file.</p>
</td>

                            </tr>

                        </tbody>
</table>
</div>
</li>

            <li class="li">Restart <span class="ph">Data Collector</span> to enable the changes.</li>

        </ol>

 </div>

</article>
<article class="topic concept nested2" aria-labelledby="ariaid-title14" id="concept_lbj_zwl_r1b">
 <h3 class="title topictitle3" id="ariaid-title14">Step 3. Add Credentials to the Credential Store</h3>

 
 <div class="body conbody"><p class="shortdesc">Use the <code class="ph codeph">stagelib-cli jks-credentialstore</code> command to add credentials to
        the Java keystore file. You can add multiple credentials to the file.</p>

  <div class="p">Use the command from the $SDC_DIST directory as
            follows:<pre class="pre codeblock"><code>bin/streamsets stagelib-cli jks-credentialstore add -i &lt;storeId&gt; -n &lt;credential name&gt; -c &lt;credential value&gt;</code></pre></div>

        <div class="p" id="concept_lbj_zwl_r1b__jks_cs_Add">For example, the following command adds a credential named
            OracleDBPassword with the value 278yT6u to the Java keystore credential
            store:<pre class="pre codeblock"><code>bin/streamsets stagelib-cli jks-credentialstore add -i jks -n OracleDBPassword -c 278yT6u</code></pre></div>

        
        <div class="note note"><span class="notetitle">Note:</span> The <code class="ph codeph">stagelib-cli jks-credentialstore</code> command also includes
                <code class="ph codeph">delete</code> and <code class="ph codeph">list</code> subcommands that you use to manage
            the credentials defined in the keystore file. For information on using these commands,
            see <a class="xref" href="CredentialStores.html#concept_wxl_44k_cfb" title="The stagelib-cli jks-credentialstore command provides subcommands to add, list, and delete credentials in the Java keystore credential store.">jks-credentialstore Command</a>. </div>

 </div>

</article>
<article class="topic concept nested2" aria-labelledby="ariaid-title15" id="concept_xmb_m5j_r1b">
 <h3 class="title topictitle3" id="ariaid-title15">Step 4. Call the Credentials from the Pipeline</h3>

 
 <div class="body conbody"><p class="shortdesc">Use the <code class="ph codeph">credential:get()</code> function in pipeline stage properties to
        retrieve  credential values from the Java keystore. </p>

            <p class="p">Use the credential function in any stage property that displays the key icon next to
            it. For example:</p>

        <p class="p"><img class="image" id="concept_xmb_m5j_r1b__image_e4w_ssx_v1b" src="../Graphics/CredentialStores_KeyIcon.png" height="224" width="696" /></p>

        
        <div class="note important"><span class="importanttitle">Important:</span> When you use a credential function in a stage
                property, the function must be the only value defined in the property. For example,
                you cannot include another function or a literal value along with the credential
                function.</div>

        <div class="p">The <code class="ph codeph">credential:get()</code> function uses the following arguments:<ul class="ul" id="concept_xmb_m5j_r1b__ul_l4b_bl5_51b">
                <li class="li">storeId - Unique ID of the credential store to use. Enter "jks" to access the
                    Java keystore credential store.</li>

                <li class="li">userGroup - Group to which a user must belong before that
                user can access the credential. Only users that have execute permission on the
                pipeline and that belong to this group can validate, preview, or run the pipeline
                that retrieves the credential values. <p class="p">If working with <span class="ph">Control Hub</span>, specify the
                    group using the required naming convention: &lt;group ID&gt;@&lt;organization ID&gt;.
                    To grant access to all users, specify the default "all" group when working only
                    with <span class="ph">Data Collector</span> or the
                    default "all@&lt;organization ID&gt;" group when working with <span class="ph">Control Hub</span>.</p>
</li>

                <li class="li">name - Name of the credential value to retrieve from the credential store.</li>

            </ul>
</div>

        <div class="p">For example, the following expression returns the value of
            the OracleDBPassword credential and allows any user belonging to the devops group access
            to the credential when validating, previewing, or running the
            pipeline:<pre class="pre codeblock"><code>${credential:get("jks", "devops", "OracleDBPassword")}</code></pre></div>

 </div>

    <nav role="navigation" class="related-links">
<div class="linklist linklist relinfo relconcepts"><strong>Related concepts</strong><br />

<div class="related_link"><a class="navheader_parent_path" href="../Expression_Language/Functions.html#concept_yvc_3qs_r1b" title="Credential Functions">Credential Functions</a></div></div>
</nav>
</article>
<article class="topic concept nested2" aria-labelledby="ariaid-title16" id="concept_wxl_44k_cfb">
    <h3 class="title topictitle3" id="ariaid-title16">jks-credentialstore Command</h3>

    
    <div class="body conbody"><p class="shortdesc">The <code class="ph codeph">stagelib-cli jks-credentialstore</code> command provides subcommands to
        add, list, and delete credentials in the Java keystore credential store. </p>

        <div class="p">Any changes made to the Java keystore
            file take effect immediately. For example, if you change the value of an existing
            credential in the file, running pipelines that require a new connection to the external
            system use the new credential value.<div class="note note"><span class="notetitle">Note:</span> In previous releases, the
                    <code class="ph codeph">jks-cs</code> command provided the same subcommands to add, list, and
                delete credentials in the Java keystore credential store. However, the
                    <code class="ph codeph">jks-cs</code> command is now deprecated and will be removed in a
                future release. </div>
</div>

        <div class="p">You can use the following subcommands with the <code class="ph codeph">stagelib-cli
                jks-credentialstore</code> command:<dl class="dl">
                
                    <dt class="dt dlterm">add</dt>

                    <dd class="dd">Adds a credential to the Java keystore credential store.</dd>

                    <dd class="dd ddexpand">Use the command from the $SDC_DIST directory as follows:</dd>

                    <dd class="dd ddexpand">
                        <pre class="pre codeblock"><code>bin/streamsets stagelib-cli jks-credentialstore add \
(-i &lt;storeId&gt; | --id &lt;storeId&gt;) \
(-n &lt;credential name&gt; | --name &lt;credential name&gt;) \
(-c &lt;credential value&gt; | --credential &lt;credential value&gt;)</code></pre>
                    </dd>

                    <dd class="dd ddexpand">
                        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="concept_wxl_44k_cfb__table_i4m_vjr_yt" class="table" frame="border" border="1" rules="all"><colgroup><col style="width:30%" /><col style="width:70%" /></colgroup><thead class="thead" style="text-align:left;">
                                    <tr>
                                        <th class="entry cellrowborder" id="d33709e1820">Add Option</th>

                                        <th class="entry cellrowborder" id="d33709e1823">Description</th>

                                    </tr>

                                </thead>
<tbody class="tbody">
                                    <tr>
                                        <td class="entry cellrowborder" headers="d33709e1820 ">-i &lt;storeId&gt;<p class="p">or </p>
<p class="p">--id
                                            &lt;storeId&gt;</p>
</td>

                                        <td class="entry cellrowborder" headers="d33709e1823 ">Required. Unique ID for the credential store. Use
                                            jks.</td>

                                    </tr>

                                    <tr>
                                        <td class="entry cellrowborder" headers="d33709e1820 ">-n &lt;credential name&gt;<p class="p">or</p>
<p class="p">--name
                                                &lt;credential name&gt;</p>
</td>

                                        <td class="entry cellrowborder" headers="d33709e1823 ">Required. Name of the credential to add to the Java
                                            keystore credential store. <p class="p">If the name includes
                                                non-alphanumeric characters, use single quotation
                                                marks around the name.</p>
</td>

                                    </tr>

                                    <tr>
                                        <td class="entry cellrowborder" headers="d33709e1820 ">-c &lt;credential value&gt;<p class="p">or</p>
<p class="p">--credential
                                                &lt;credential value&gt;</p>
</td>

                                        <td class="entry cellrowborder" headers="d33709e1823 ">Required. Value of the credential to add to the Java
                                            keystore credential store. <p class="p">If the value includes
                                                non-alphanumeric characters, use single quotation
                                                marks around the value.</p>
</td>

                                    </tr>

                                </tbody>
</table>
</div>

                    </dd>

                    <dd class="dd ddexpand">
                        <p class="p">For example, the following command adds a credential named
                            OracleDBPassword with the value df35yT_&amp;5 to the Java keystore
                            credential store:</p>

                        <pre class="pre codeblock"><code>bin/streamsets stagelib-cli jks-credentialstore add -i jks -n OracleDBPassword -c 'df35yT_&amp;5'</code></pre>
                    </dd>

                
                
                    <dt class="dt dlterm">delete</dt>

                    <dd class="dd">Deletes a credential from the Java keystore credential store.</dd>

                    <dd class="dd ddexpand">Use the command from the $SDC_DIST directory as follows:</dd>

                    <dd class="dd ddexpand">
                        <pre class="pre codeblock"><code>bin/streamsets stagelib-cli jks-credentialstore delete \
(-i &lt;storeId&gt; | --id &lt;storeId&gt;) \
(-n &lt;credential name&gt; | --name &lt;credential name&gt;)</code></pre>
                    </dd>

                    <dd class="dd ddexpand">
                        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="concept_wxl_44k_cfb__table_spw_wym_r1b" class="table" frame="border" border="1" rules="all"><colgroup><col style="width:30%" /><col style="width:70%" /></colgroup><thead class="thead" style="text-align:left;">
                                    <tr>
                                        <th class="entry cellrowborder" id="d33709e1919">Delete Option</th>

                                        <th class="entry cellrowborder" id="d33709e1922">Description</th>

                                    </tr>

                                </thead>
<tbody class="tbody">
                                    <tr>
                                        <td class="entry cellrowborder" headers="d33709e1919 ">-i &lt;storeId&gt;<p class="p">or </p>
<p class="p">--id
                                            &lt;storeId&gt;</p>
</td>

                                        <td class="entry cellrowborder" headers="d33709e1922 ">Required. Unique ID for the credential store. Use
                                            jks.</td>

                                    </tr>

                                    <tr>
                                        <td class="entry cellrowborder" headers="d33709e1919 ">-n &lt;credential name&gt;<p class="p">or</p>
<p class="p">--name
                                                &lt;credential name&gt;</p>
</td>

                                        <td class="entry cellrowborder" headers="d33709e1922 ">Required. Name of the credential to delete from the
                                            Java keystore credential store.<p class="p">If the name includes
                                                non-alphanumeric characters, use single quotation
                                                marks around the name.</p>
</td>

                                    </tr>

                                </tbody>
</table>
</div>

                    </dd>

                    <dd class="dd ddexpand">For example, the following command deletes a credential named
                        SQLServerDBPassword from the Java keystore credential store:
                        <pre class="pre codeblock"><code>bin/streamsets stagelib-cli jks-credentialstore delete -i jks -n SQLServerDBPassword</code></pre></dd>

                
                
                    <dt class="dt dlterm">list</dt>

                    <dd class="dd">Lists the names of all credentials defined in the Java keystore credential
                        store. The command does not list the credential values.</dd>

                    <dd class="dd ddexpand">Use the command from the $SDC_DIST directory as follows:</dd>

                    <dd class="dd ddexpand">
                        <pre class="pre codeblock"><code>bin/streamsets stagelib-cli jks-credentialstore list \
(-i &lt;storeId&gt; | --id &lt;storeId&gt;)</code></pre>
                    </dd>

                    <dd class="dd ddexpand">
                        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="concept_wxl_44k_cfb__table_zzy_fzm_r1b" class="table" frame="border" border="1" rules="all"><colgroup><col style="width:30%" /><col style="width:70%" /></colgroup><thead class="thead" style="text-align:left;">
                                    <tr>
                                        <th class="entry cellrowborder" id="d33709e1999">List Option</th>

                                        <th class="entry cellrowborder" id="d33709e2002">Description</th>

                                    </tr>

                                </thead>
<tbody class="tbody">
                                    <tr>
                                        <td class="entry cellrowborder" headers="d33709e1999 ">-i &lt;storeId&gt;<p class="p">or </p>
<p class="p">--id
                                            &lt;storeId&gt;</p>
</td>

                                        <td class="entry cellrowborder" headers="d33709e2002 ">Required. Unique ID for the credential store. Use
                                            jks.</td>

                                    </tr>

                                </tbody>
</table>
</div>

                    </dd>

                    <dd class="dd ddexpand">For example, the following command lists the names of all credentials
                        defined in the Java keystore credential store:
                        <pre class="pre codeblock"><code>bin/streamsets stagelib-cli jks-credentialstore list -i jks</code></pre></dd>

                
            </dl>
</div>

    </div>

</article>
</article>
<article class="topic concept nested1" aria-labelledby="ariaid-title17" id="concept_t3k_ct3_cfb">
    <h2 class="title topictitle2" id="ariaid-title17">Microsoft Azure Key Vault</h2>

    <div class="body conbody">
        <p class="p">Before <span class="ph">Data Collector</span> can
            connect to the Microsoft Azure Key Vault credential store system, you must complete
            several prerequisites in Azure so that <span class="ph">Data Collector</span> can
            access the Azure Key Vault as an application.</p>

        <p class="p">After completing the prerequisites, install the Azure Key Vault credential store stage
            library and define the configuration properties used to connect to Azure Key Vault.
            Then, use credential functions in pipeline stage properties to retrieve the credential
            values.</p>

        <div class="p">
            <div class="note note"><span class="notetitle">Note:</span> This documentation includes details about Azure Key Vault to simplify the
                configuration process. For more information, see the Azure Key Vault
                documentation.</div>

        </div>

    </div>

<article class="topic concept nested2" aria-labelledby="ariaid-title18" id="concept_eyp_553_cfb">
    <h3 class="title topictitle3" id="ariaid-title18">Prerequisites</h3>

    <div class="body conbody">
        <p class="p">Before <span class="ph">Data Collector</span> can
            connect to the Microsoft Azure Key Vault credential store system, complete the following
            prerequisites within Azure:</p>

        <dl class="dl">
            
                <dt class="dt dlterm">Register <span class="ph">Data Collector</span> with Azure Active Directory</dt>

                <dd class="dd">Use the Azure portal to register <span class="ph">Data Collector</span> as an application in Azure Active Directory. When an application such as <span class="ph">Data Collector</span> accesses credentials in an Azure key vault, the application must use an
                    authentication token from Azure Active Directory. </dd>

                <dd class="dd ddexpand">The registration process assigns <span class="ph">Data Collector</span> the following values, which you will specify when you <a class="xref" href="CredentialStores.html#concept_rwt_mrj_cfb">configure the credential store properties</a>:<ul class="ul" id="concept_eyp_553_cfb__ul_orj_bkj_cfb">
                        <li class="li">application ID</li>

                        <li class="li">authentication key</li>

                    </ul>
</dd>

                <dd class="dd ddexpand">For more information about registering applications in Azure Active Directory,
                    see the <a class="xref" href="https://docs.microsoft.com/en-us/azure/key-vault/key-vault-get-started#register" target="_blank">Azure Key Vault documentation</a>.</dd>

            
            
                <dt class="dt dlterm">Authorize <span class="ph">Data Collector</span> to use keys or secrets in the Azure key vault</dt>

                <dd class="dd">Use the Azure portal to authorize <span class="ph">Data Collector</span> to use the keys or secrets in the Azure key vault. Azure Key Vault requires
                    that applications be authorized to access each key vault.</dd>

                <dd class="dd ddexpand">For information about authorizing applications to use keys or secrets, see the
                        <a class="xref" href="https://docs.microsoft.com/en-us/azure/key-vault/key-vault-get-started#authorize" target="_blank">Azure Key Vault documentation</a>.</dd>

            
        </dl>

    </div>

</article>
<article class="topic concept nested2" aria-labelledby="ariaid-title19" id="concept_rr2_yqj_cfb">
    <h3 class="title topictitle3" id="ariaid-title19">Step 1. Install the Credential Store Stage Library</h3>

    
    <div class="body conbody"><p class="shortdesc">By default, a full <span class="ph">Data Collector</span>
        installation includes the Azure Key Vault credential store stage library. The core
        installation does not include the library.</p>

        <p class="p">To verify that a <span class="ph">Data Collector</span> has
            the Azure Key Vault credential store stage library installed, click the Package Manager
            icon (<img class="image" id="concept_rr2_yqj_cfb__image_hgv_t1q_rx" src="../Graphics/icon_PackageManager.png" height="13" width="16" />) to display the list of installed stage libraries. If the library is not installed,
                <a class="xref" href="../Installation/AddtionalStageLibs.html#concept_fb2_qmn_bz">install the
                library</a> before configuring the Azure Key Vault credential store.</p>

    </div>

</article>
<article class="topic concept nested2" aria-labelledby="ariaid-title20" id="concept_rwt_mrj_cfb">
    <h3 class="title topictitle3" id="ariaid-title20">Step 2. Configure the Credential Store Properties</h3>

    <div class="body conbody">
        <div class="p">To enable <span class="ph">Data Collector</span> to
            connect to the Azure Key Vault credential store, configure the Azure Key Vault
            properties in the <span class="ph filepath">$SDC_CONF/credential-stores.properties</span> file.<div class="note important"><span class="importanttitle">Important:</span> <span class="ph">For a Cloudera Manager installation, configure all credential store
                properties through Cloudera Manager. In Cloudera Manager, select the StreamSets
                service and then click Configuration. Add a line for each credential store property
                to the Data Collector Advanced Configuration Snippet (Safety Valve) for
                sdc.properties field as follows:</span>
                <pre class="pre codeblock"><code>credentialStores=azure</code></pre></div>
</div>

        <ol class="ol" id="concept_rwt_mrj_cfb__ol_npr_qrj_cfb">
            <li class="li">Uncomment the <span class="ph uicontrol">credentialStores</span> property in the file.<p class="p">If
                    enabling only the Azure Key Vault credential store, set the property to "azure".
                    If enabling multiple credential stores, set the property to each credential
                    store type. For example, to use both the Java keystore and the Azure Key Vault
                    credential stores, set the value to "jks,azure". </p>
</li>

            <li class="li">Configure the following properties in the Azure Key Vault Credential Store section
                of the file. <p class="p">The Azure Key Vault credential store definition, URL, client ID, and
                    client key are required properties. Uncomment and configure other properties as
                    needed.</p>
<p class="p">The file includes the following properties:</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="concept_rwt_mrj_cfb__table_spl_ycl_r1b" class="table" frame="border" border="1" rules="all"><colgroup><col style="width:46%" /><col style="width:54%" /></colgroup><thead class="thead" style="text-align:left;">
                            <tr>
                                <th class="entry cellrowborder" id="d33709e2273">Azure Key Vault Property</th>

                                <th class="entry cellrowborder" id="d33709e2276">Description</th>

                            </tr>

                        </thead>
<tbody class="tbody">
                            <tr>
                                <td class="entry cellrowborder" headers="d33709e2273 ">credentialStore.azure.def</td>

                                <td class="entry cellrowborder" headers="d33709e2276 ">Required. Defines the implementation of the Azure Key Vault
                                    credential store.<p class="p">Do not change the default value.</p>
</td>

                            </tr>

                            <tr>
                                <td class="entry cellrowborder" headers="d33709e2273 ">credentialStore.azure.config.credential.refresh.millis</td>

                                <td class="entry cellrowborder" headers="d33709e2276 ">Optional. Number of milliseconds that <span class="ph">Data Collector</span> locally caches a credential. When the time expires, <span class="ph">Data Collector</span> retrieves the credential from Azure Key Vault.</td>

                            </tr>

                            <tr>
                                <td class="entry cellrowborder" headers="d33709e2273 ">credentialStore.azure.config.credential.retry.millis</td>

                                <td class="entry cellrowborder" headers="d33709e2276 ">Optional. Number of milliseconds that <span class="ph">Data Collector</span> waits before attempting to retry a retrieval of a credential
                                    from Azure Key Vault, in the case of an error.</td>

                            </tr>

                            <tr>
                                <td class="entry cellrowborder" headers="d33709e2273 ">credentialStore.azure.config.vault.url</td>

                                <td class="entry cellrowborder" headers="d33709e2276 ">Required. URL to the key vault created in Azure Key
                                        Vault.<p class="p">Use the following
                                    format:</p>
<pre class="pre codeblock"><code>https://&lt;key vault name&gt;.vault.azure.net/</code></pre></td>

                            </tr>

                            <tr>
                                <td class="entry cellrowborder" headers="d33709e2273 ">credentialStore.azure.config.client.id</td>

                                <td class="entry cellrowborder" headers="d33709e2276 ">Required. Application ID assigned to this <span class="ph">Data Collector</span> when you registered <span class="ph">Data Collector</span> as an application in Azure Active Directory, as described in
                                        <a class="xref" href="CredentialStores.html#concept_eyp_553_cfb">prerequisites</a>.</td>

                            </tr>

                            <tr>
                                <td class="entry cellrowborder" headers="d33709e2273 ">credentialStore.azure.config.client.key</td>

                                <td class="entry cellrowborder" headers="d33709e2276 ">Required. Authentication key assigned to this <span class="ph">Data Collector</span> when you registered <span class="ph">Data Collector</span> as an application in Azure Active Directory, as described in
                                        <a class="xref" href="CredentialStores.html#concept_eyp_553_cfb">prerequisites</a>.</td>

                            </tr>

                        </tbody>
</table>
</div>
</li>

            <li class="li">Restart <span class="ph">Data Collector</span>
                to enable the changes.</li>

        </ol>

    </div>

</article>
<article class="topic concept nested2" aria-labelledby="ariaid-title21" id="concept_otr_j5j_cfb">
    <h3 class="title topictitle3" id="ariaid-title21">Step 3. Call the Credentials from the Pipeline</h3>

    
    <div class="body conbody"><p class="shortdesc">Use the <code class="ph codeph">credential:get()</code> or
            <code class="ph codeph">credential:getWithOptions()</code> function in pipeline stage properties to
        retrieve credential values from Azure Key Vault. </p>

        <p class="p">Use the credential functions in any stage property that displays the key icon next to it.
            For example:</p>

        <p class="p"><img class="image" id="concept_otr_j5j_cfb__image_e4w_ssx_v1b" src="../Graphics/CredentialStores_KeyIcon.png" height="224" width="696" /></p>

        <div class="note important"><span class="importanttitle">Important:</span> When you use a credential function in a stage
                property, the function must be the only value defined in the property. For example,
                you cannot include another function or a literal value along with the credential
                function.</div>

        <div class="p">The credential functions use the following arguments:<ul class="ul" id="concept_otr_j5j_cfb__ul_wyt_zk5_51b">
                <li class="li">storeId - Unique ID of the credential store to use. Enter "azure" to access the
                    Azure Key Vault credential store.</li>

                <li class="li">userGroup - Group to which a user must belong before that
                user can access the credential. Only users that have execute permission on the
                pipeline and that belong to this group can validate, preview, or run the pipeline
                that retrieves the credential values. <p class="p">If working with <span class="ph">Control Hub</span>, specify the
                    group using the required naming convention: &lt;group ID&gt;@&lt;organization ID&gt;.
                    To grant access to all users, specify the default "all" group when working only
                    with <span class="ph">Data Collector</span> or the
                    default "all@&lt;organization ID&gt;" group when working with <span class="ph">Control Hub</span>.</p>
</li>

                <li class="li">name - Name of the key or secret to retrieve from Azure Key Vault.</li>

                <li class="li">storeOptions - Used only by the <code class="ph codeph">credential:getWithOptions()</code>
                    function. Additional options to communicate with the credential store. For Azure
                    Key Vault, you can use the following options to override several properties in
                    the <span class="ph filepath">$SDC_CONF/credential-stores.properties</span> file:<ul class="ul" id="concept_otr_j5j_cfb__ul_kb1_c4c_hbb">
                        <li class="li"><code class="ph codeph">url</code> - Overrides the
                            credentialStore.azure.config.vault.url property.</li>

                        <li class="li"><code class="ph codeph">retry</code> - Overrides the
                            credentialStore.azure.config.credential.retry.millis property.</li>

                        <li class="li"><code class="ph codeph">refresh</code> - Overrides the
                            credentialStore.azure.config.credential.refresh.millis property.</li>

                    </ul>
<div class="p">Use the following format to specify
                        options:<pre class="pre codeblock"><code>"&lt;option1&gt;=&lt;value&gt;,&lt;option2&gt;=&lt;value&gt;"</code></pre></div>
</li>

            </ul>
</div>

        <div class="p">For example, the following expression returns the value of the SQLpassword secret. The
            expression allows any user belonging to the devops group access to the credential when
            validating, previewing, or running the
            pipeline:<pre class="pre codeblock"><code>${credential:get("azure", "devops", "SQLpassword")}</code></pre></div>

        <div class="p">The following expression returns the same secret value, but overrides the retry time
            configured in the <span class="ph filepath">$SDC_CONF/credential-stores.properties</span>
            file:<pre class="pre codeblock"><code>${credential:getWithOptions("azure", "devops", "SQLpassword", "retry=3000")}</code></pre></div>

    </div>

</article>
</article>
</article>
</article></main></div>
                        
                        
                        
                    </div>
                    
                </div>
            </div>
        </div> <nav class="navbar navbar-default wh_footer">
  <div class=" footer-container text-center ">
    <!-- Copyright 2018 StreamSets Inc. --><!-- SDC google analytics --><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-60917135-3', 'auto');
  ga('send', 'pageview');
</script>
  </div>
</nav>

        
        <div id="go2top">
            <span class="glyphicon glyphicon-chevron-up"></span>
        </div>
        
        <!-- The modal container for images -->
        <div id="modal_img_large" class="modal">
            <span class="close glyphicon glyphicon-remove"></span>
            <!-- Modal Content (The Image) -->
            <img class="modal-content" id="modal-img" />
            <!-- Modal Caption (Image Text) -->
            <div id="caption"></div>
        </div>
        
        <script src="../../../oxygen-webhelp/lib/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
        © Apache License, Version 2.0.
    </body>
</html>