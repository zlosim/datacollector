
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="description" content="A regular expression, also known as regex , describes a pattern for a string. This appendix provides some details and tips specific to using regular expressions with the Data Collector . For a ..." /><meta name="copyright" content="(C) Copyright 2005" /><meta name="DC.rights.owner" content="(C) Copyright 2005" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Regular Expressions" /><meta name="DC.Relation" scheme="URI" content="../Expression_Language/ReservedWords.html" /><meta name="DC.Relation" scheme="URI" content="../Apx-GrokPatterns/GrokPatterns_title.html#concept_chv_vmj_wr" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="concept_vcj_1ws_js" /><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>Regular Expressions</title><!--  Generated with Oxygen version 18.1, build number 2016112217.  --><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/skins/skin.css" /><link rel="stylesheet" type="text/css" href="../skin.css" /><script type="text/javascript"><!--
            
            var prefix = "../index.html";
            
            --></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-1.11.3.min.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.highlight-3.js"><!----></script><script type="text/javascript" charset="utf-8" src="../oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script>
<!--
    Copyright 2017 StreamSets Inc.

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->
</head>
<body onload="highlightSearchTerm()" class="frmBody">
<table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><a href="javascript:window.print();" title="Print this page"></a></div><div id="permalink"><a href="#" title="Link to this page"></a></div></td></tr><tr><td style="width:75%;"><span class="topic_breadcrumb_links"></span></td><td><span id="topic_navigation_links" class="navheader">
<span class="navprev"><a class="link" href="../Expression_Language/ReservedWords.html" title="Reserved Words"><span class="navheader_label">Previous topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Reserved Words</span></a></span>  
<span class="navnext"><a class="link" href="../Apx-GrokPatterns/GrokPatterns_title.html#concept_chv_vmj_wr" title="Grok Patterns"><span class="navheader_label">Next topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Grok Patterns</span></a></span>  </span></td></tr></tbody></table>
<div class="nested0" id="concept_vcj_1ws_js">
 <h1 class="title topictitle1">Regular Expressions</h1>

<div class="related-links"></div>
<div class="topic concept nested1" id="concept_vd4_nsc_gs">
  <h2 class="title topictitle2">Regular Expressions Overview</h2>

  
  <div class="body conbody"><p class="shortdesc">A regular expression, also known as <dfn class="term">regex</dfn>, describes a pattern for a
    string. </p>

    <p class="p">This appendix
      provides some details and tips specific to using regular expressions with the <span class="ph">Data
                  Collector</span>. For a
      thorough description of how to define regular expressions, use a manual or online reference
      such as: <a class="xref" href="https://docs.oracle.com/javase/tutorial/essential/regex/index.html" target="_blank">https://docs.oracle.com/javase/tutorial/essential/regex/index.html</a>.</p>

    <p class="p">For testing regular expressions, you might find the following website helpful: <a class="xref" href="https://regex101.com/" target="_blank">https://regex101.com/</a>.</p>

  </div>

</div>
<div class="topic concept nested1" id="concept_wnv_25j_ks">
 <h2 class="title topictitle2">Regular Expressions in the Pipeline</h2>

 
 <div class="body conbody"><p class="shortdesc">Though generally not required, you can use Java-based regular expressions at various
  locations within a pipeline to define, search for, or manipulate strings. </p>

  <p class="p">For example, in
   the Field Masker processor, you can use a fixed length, variable length, or custom static mask to
   mask data in a field. When that doesn't work for you, you can use a regular expression to define
   a specific custom mask. Similarly, you can use a regular expression to define the format of a log
   line if it does not use one of the listed formats. </p>

  <div class="p">The following table describes some examples of how you might use regular expressions in the
    pipeline:
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="concept_wnv_25j_ks__table_dtb_35j_ks" class="table" frame="border" border="1" rules="all">
     
     
     <thead class="thead" align="left">
      <tr>
       <th class="entry" valign="top" width="24.509803921568626%" id="d32971e104">Location</th>

       <th class="entry" valign="top" width="75.49019607843137%" id="d32971e107">Description</th>

      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td class="entry" valign="top" width="24.509803921568626%" headers="d32971e104 ">Directory origin</td>

       <td class="entry" valign="top" width="75.49019607843137%" headers="d32971e107 ">Optionally use to define the pattern of the file name.</td>

      </tr>

      <tr>
       <td class="entry" valign="top" width="24.509803921568626%" headers="d32971e104 ">File Tail origin</td>

       <td class="entry" valign="top" width="75.49019607843137%" headers="d32971e107 ">Use to define the ${PATTERN} constant when you use the Files Matching a Pattern naming
        option. <p class="p">Use to define the structure of a log line or text.</p>
</td>

      </tr>

      <tr>
       <td class="entry" valign="top" width="24.509803921568626%" headers="d32971e104 ">Origins that process log data<p class="p">Log Parser processor</p>
</td>

       <td class="entry" valign="top" width="75.49019607843137%" headers="d32971e107 ">Optionally use to define the pattern of the log line.</td>

      </tr>

      <tr>
       <td class="entry" valign="top" width="24.509803921568626%" headers="d32971e104 ">Field Masker processor</td>

       <td class="entry" valign="top" width="75.49019607843137%" headers="d32971e107 ">Optionally use to define the field mask.</td>

      </tr>

      <tr>
       <td class="entry" valign="top" width="24.509803921568626%" headers="d32971e104 ">regexCapture function</td>

       <td class="entry" valign="top" width="75.49019607843137%" headers="d32971e107 ">Use to define the groups and pattern of the string so you can specify the group to
        return.</td>

      </tr>

      <tr>
       <td class="entry" valign="top" width="24.509803921568626%" headers="d32971e104 ">replaceAll function</td>

       <td class="entry" valign="top" width="75.49019607843137%" headers="d32971e107 ">Use to define the string to replace.</td>

      </tr>

     </tbody>

    </table>
</div>
</div>

 </div>

</div>
<div class="topic concept nested1" id="concept_jyt_lb5_js">
 <h2 class="title topictitle2">Quick Reference</h2>

 <div class="body conbody">
  <div class="p">The following
   table includes some details you might find helpful when creating a regular expression:
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="concept_jyt_lb5_js__table_d3t_sh5_js" class="table" frame="border" border="1" rules="all">
     
     
     
     <thead class="thead" align="left">
      <tr>
       <th class="entry" valign="top" width="15.57632398753894%" id="d32971e207">Character</th>

       <th class="entry" valign="top" width="43.613707165109034%" id="d32971e210">Description</th>

       <th class="entry" valign="top" width="40.80996884735203%" id="d32971e213">Examples</th>

      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td class="entry" valign="top" width="15.57632398753894%" headers="d32971e207 ">[ ]</td>

       <td class="entry" valign="top" width="43.613707165109034%" headers="d32971e210 ">Use brackets to define character classes. </td>

       <td class="entry" valign="top" width="40.80996884735203%" headers="d32971e213 ">[0-9][0-9][0-9] represents 3 digits ranging from 0 through 9, inclusive. </td>

      </tr>

      <tr>
       <td class="entry" valign="top" width="15.57632398753894%" headers="d32971e207 ">-</td>

       <td class="entry" valign="top" width="43.613707165109034%" headers="d32971e210 ">Use the hyphen to define ranges.</td>

       <td class="entry" valign="top" width="40.80996884735203%" headers="d32971e213 ">
        <p class="p">[a-z] defines one lowercase letter from a to z.</p>

        <p class="p">[A-Z] defines one uppercase letter from A to Z.</p>

       </td>

      </tr>

      <tr>
       <td class="entry" valign="top" width="15.57632398753894%" headers="d32971e207 ">|</td>

       <td class="entry" valign="top" width="43.613707165109034%" headers="d32971e210 ">Indicates an alternate option to the character or group being defined.</td>

       <td class="entry" valign="top" width="40.80996884735203%" headers="d32971e213 ">[a-z | A-Z] represents a single upper or lowercase letter. </td>

      </tr>

      <tr>
       <td class="entry" valign="top" width="15.57632398753894%" headers="d32971e207 ">( ) </td>

       <td class="entry" valign="top" width="43.613707165109034%" headers="d32971e210 ">Use parentheses to create groups, atomic groups, or lookarounds.</td>

       <td class="entry" valign="top" width="40.80996884735203%" headers="d32971e213 ">([0-9][0-9][0-9])(-|.)([0-9][0-9][0-9])(-|.)([0-9][0-9][0-9][0-9]) represents phone
        numbers with area codes that are separated by dashes or periods as follows: 415-555-5555 and
        415.555.5555. </td>

      </tr>

      <tr>
       <td class="entry" valign="top" width="15.57632398753894%" headers="d32971e207 ">&lt; &gt; </td>

       <td class="entry" valign="top" width="43.613707165109034%" headers="d32971e210 ">Use angle brackets to define named capture groups. Use the following syntax:
        <pre class="pre codeblock">(?&lt;groupName&gt; ...) </pre>
to set up a named field extraction.</td>

       <td class="entry" valign="top" width="40.80996884735203%" headers="d32971e213 "> </td>

      </tr>

      <tr>
       <td class="entry" valign="top" width="15.57632398753894%" headers="d32971e207 ">^</td>

       <td class="entry" valign="top" width="43.613707165109034%" headers="d32971e210 ">Use a carat to negate a character class. </td>

       <td class="entry" valign="top" width="40.80996884735203%" headers="d32971e213 ">[^A-G] defines a character that is not an uppercase letter from A to G.</td>

      </tr>

      <tr>
       <td class="entry" valign="top" width="15.57632398753894%" headers="d32971e207 ">.</td>

       <td class="entry" valign="top" width="43.613707165109034%" headers="d32971e210 ">A wildcard that represents any single character except newline or other special
        characters.</td>

       <td class="entry" valign="top" width="40.80996884735203%" headers="d32971e213 "> </td>

      </tr>

      <tr>
       <td class="entry" valign="top" width="15.57632398753894%" headers="d32971e207 ">&amp;&amp;</td>

       <td class="entry" valign="top" width="43.613707165109034%" headers="d32971e210 ">Use two ampersands to indicate the union of two ranges. </td>

       <td class="entry" valign="top" width="40.80996884735203%" headers="d32971e213 ">[\w&amp;&amp;[^1-9] represents all word characters except 1-9. </td>

      </tr>

      <tr>
       <td class="entry" valign="top" width="15.57632398753894%" headers="d32971e207 ">? </td>

       <td class="entry" valign="top" width="43.613707165109034%" headers="d32971e210 ">A quantifier that represents zero or one instance of the preceding character or group. </td>

       <td class="entry" valign="top" width="40.80996884735203%" headers="d32971e213 ">B-?7 represents B7 or B-7.</td>

      </tr>

      <tr>
       <td class="entry" valign="top" width="15.57632398753894%" headers="d32971e207 ">+</td>

       <td class="entry" valign="top" width="43.613707165109034%" headers="d32971e210 ">A quantifier that represents one or more instances of the preceding character or
        group.</td>

       <td class="entry" valign="top" width="40.80996884735203%" headers="d32971e213 ">([0-9][0-9][0-9])-+([0-9][0-9][0-9][0-9]) represents phone numbers that area codes:
        415-555-5555 and 555-5555. </td>

      </tr>

      <tr>
       <td class="entry" valign="top" width="15.57632398753894%" headers="d32971e207 ">* </td>

       <td class="entry" valign="top" width="43.613707165109034%" headers="d32971e210 ">A quantifier that represents zero or more instances of the preceding character or
        group. </td>

       <td class="entry" valign="top" width="40.80996884735203%" headers="d32971e213 ">([0-9][0-9][0-9][0-9][0-9])-([0-9][0-9][0-9][0-9])* represents 5- and 9-digit zip
        codes. </td>

      </tr>

      <tr>
       <td class="entry" valign="top" width="15.57632398753894%" headers="d32971e207 ">\</td>

       <td class="entry" valign="top" width="43.613707165109034%" headers="d32971e210 ">Use the backslash as an escape character.</td>

       <td class="entry" valign="top" width="40.80996884735203%" headers="d32971e213 "> </td>

      </tr>

      <tr>
       <td class="entry" valign="top" width="15.57632398753894%" headers="d32971e207 ">\\</td>

       <td class="entry" valign="top" width="43.613707165109034%" headers="d32971e210 ">Represents a single backslash</td>

       <td class="entry" valign="top" width="40.80996884735203%" headers="d32971e213 "> </td>

      </tr>

      <tr>
       <td class="entry" valign="top" width="15.57632398753894%" headers="d32971e207 ">\w </td>

       <td class="entry" valign="top" width="43.613707165109034%" headers="d32971e210 ">Represents a word character - includes alphanumeric characters and the underscore. </td>

       <td class="entry" valign="top" width="40.80996884735203%" headers="d32971e213 ">\w\w\w-\w\w\w\w\w can represent an error code, such as SVR-30243.</td>

      </tr>

      <tr>
       <td class="entry" valign="top" width="15.57632398753894%" headers="d32971e207 ">\W</td>

       <td class="entry" valign="top" width="43.613707165109034%" headers="d32971e210 ">Represents a non-word character - includes everything except alphanumeric characters
        and the underscore. </td>

       <td class="entry" valign="top" width="40.80996884735203%" headers="d32971e213 "> </td>

      </tr>

      <tr>
       <td class="entry" valign="top" width="15.57632398753894%" headers="d32971e207 ">\d</td>

       <td class="entry" valign="top" width="43.613707165109034%" headers="d32971e210 ">Represents a digit. Shorthand for 0-9. </td>

       <td class="entry" valign="top" width="40.80996884735203%" headers="d32971e213 ">(\d\d\d\d\d)-(\d\d\d\d)* represents a 9-digit zip code.</td>

      </tr>

      <tr>
       <td class="entry" valign="top" width="15.57632398753894%" headers="d32971e207 ">\D</td>

       <td class="entry" valign="top" width="43.613707165109034%" headers="d32971e210 ">Represents a non-digit character.</td>

       <td class="entry" valign="top" width="40.80996884735203%" headers="d32971e213 ">\D&amp;&amp;\S represents the alphabet in either case.</td>

      </tr>

      <tr>
       <td class="entry" valign="top" width="15.57632398753894%" headers="d32971e207 ">\s</td>

       <td class="entry" valign="top" width="43.613707165109034%" headers="d32971e210 ">Represents a whitespace character - includes space, tab, line break and form
        feed.</td>

       <td class="entry" valign="top" width="40.80996884735203%" headers="d32971e213 "> </td>

      </tr>

      <tr>
       <td class="entry" valign="top" width="15.57632398753894%" headers="d32971e207 ">\S</td>

       <td class="entry" valign="top" width="43.613707165109034%" headers="d32971e210 ">Represents a non-space character - includes everything except the space, tab, line
        break, and form feed characters.</td>

       <td class="entry" valign="top" width="40.80996884735203%" headers="d32971e213 "> </td>

      </tr>

      <tr>
       <td class="entry" valign="top" width="15.57632398753894%" headers="d32971e207 ">\t</td>

       <td class="entry" valign="top" width="43.613707165109034%" headers="d32971e210 ">Tab character.</td>

       <td class="entry" valign="top" width="40.80996884735203%" headers="d32971e213 "> </td>

      </tr>

      <tr>
       <td class="entry" valign="top" width="15.57632398753894%" headers="d32971e207 ">\r</td>

       <td class="entry" valign="top" width="43.613707165109034%" headers="d32971e210 ">Return character.</td>

       <td class="entry" valign="top" width="40.80996884735203%" headers="d32971e213 "> </td>

      </tr>

      <tr>
       <td class="entry" valign="top" width="15.57632398753894%" headers="d32971e207 ">\n</td>

       <td class="entry" valign="top" width="43.613707165109034%" headers="d32971e210 ">Line break or newline character.</td>

       <td class="entry" valign="top" width="40.80996884735203%" headers="d32971e213 "> </td>

      </tr>

      <tr>
       <td class="entry" valign="top" width="15.57632398753894%" headers="d32971e207 ">\f</td>

       <td class="entry" valign="top" width="43.613707165109034%" headers="d32971e210 ">Form feed character.</td>

       <td class="entry" valign="top" width="40.80996884735203%" headers="d32971e213 "> </td>

      </tr>

     </tbody>

    </table>
</div>
</div>

 </div>

</div>
<div class="topic concept nested1" id="concept_ez2_3jl_ls">
 <h2 class="title topictitle2">Regex Examples</h2>

 <div class="body conbody">
  <div class="p">
   <dl class="dl">
    
     <dt class="dt dlterm">Masking credit card numbers, except for one group</dt>

     <dd class="dd">You can use the following regular expression in the Field Masker to mask all numbers in a
      credit or debit card except for the last 4 digits: <pre class="pre codeblock">(.*)([0-9]{4})</pre>
</dd>

     <dd class="dd">This regex defines two groups. The first uses /d* to represent any number, with any number
      of numbers. And the second group represents the last four digits. In the Field Masker, for the
      Groups to Show property, you can then enter 2 to display the last 4 digits of a credit card
      number.</dd>

     <dd class="dd">The following regular expressions perform the same
      task:<pre class="pre codeblock">(/d*)(/d{4})
(/d*)(/d/d/d/d)</pre>
</dd>

    
   </dl>

  </div>

 </div>

</div>
</div>
<div class="navfooter"><!---->
<span class="navprev"><a class="link" href="../Expression_Language/ReservedWords.html" title="Reserved Words"><span class="navheader_label">Previous topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Reserved Words</span></a></span>  
<span class="navnext"><a class="link" href="../Apx-GrokPatterns/GrokPatterns_title.html#concept_chv_vmj_wr" title="Grok Patterns"><span class="navheader_label">Next topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Grok Patterns</span></a></span>  </div><div class="footer" id="webhelp_copyright_information"></div>
</body>
</html>