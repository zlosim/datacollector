
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="description" content="Install external libraries to make them available to Data Collector stages. When using multiple stage libraries for a particular stage, to make external libraries available to all versions of the ..." /><meta name="copyright" content="(C) Copyright 2005" /><meta name="DC.rights.owner" content="(C) Copyright 2005" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Install External Libraries" /><meta name="DC.Relation" scheme="URI" content="../Configuration/Config_title.html" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="concept_pdv_qlw_ft" /><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>Install External Libraries</title><!--  Generated with Oxygen version 18.1, build number 2016112217.  --><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/skins/skin.css" /><link rel="stylesheet" type="text/css" href="../skin.css" /><script type="text/javascript"><!--
            
            var prefix = "../index.html";
            
            --></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-1.11.3.min.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.highlight-3.js"><!----></script><script type="text/javascript" charset="utf-8" src="../oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script>
<!--
    Copyright 2017 StreamSets Inc.

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->
</head>
<body onload="highlightSearchTerm()" class="frmBody">
<table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><a href="javascript:window.print();" title="Print this page"></a></div><div id="permalink"><a href="#" title="Link to this page"></a></div></td></tr><tr><td style="width:75%;"><span class="topic_breadcrumb_links"><span class="topic_breadcrumb_link"><a class="navheader_parent_path" href="../Configuration/Config_title.html" title="Configuration">Configuration</a></span></span></td><td><span id="topic_navigation_links" class="navheader">
<span class="navparent"><a class="link" href="../Configuration/Config_title.html" title="Configuration"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Configuration</span></a></span>  </span></td></tr></tbody></table>
<div class="nested0" id="concept_pdv_qlw_ft">
 <h1 class="title topictitle1">Install External Libraries </h1>

 <div class="body conbody">
    <p class="p">Install external libraries to make them
      available to <span class="ph">Data
                  Collector</span> stages.
      When using multiple stage libraries for a particular stage, to make external libraries
      available to all versions of the stage, install the external libraries for each stage library. </p>

    <p class="p">You can install external libraries using the Package Manager in the <span class="ph">Data
                  Collector</span> user
      interface, or you can install them manually.</p>

    <div class="p">You can install external libraries for the following stages: <ul class="ul" id="concept_pdv_qlw_ft__ul_epd_gyd_d1b">
        <li class="li">
          <div class="p">Before you use the following stages, install JDBC drivers for the implementation that
            you want to use: <ul class="ul" id="concept_pdv_qlw_ft__ul_f1l_fnb_cz">
                  <li class="li">JDBC Multitable Consumer origin</li>

                  <li class="li">JDBC Query Consumer origin</li>

                  <li class="li">JMS Consumer origin</li>

                  <li class="li">MySQL Binary Log origin</li>

                  <li class="li">Oracle CDC Client origin</li>

                  <li class="li">SQL Server CDC Client origin</li>

                  <li class="li">SQL Server Change Tracking origin</li>

                  <li class="li">JDBC Lookup processor</li>

                  <li class="li">JDBC Tee processor</li>

                  <li class="li">JDBC Producer destination</li>

                  <li class="li">JMS Producer destination</li>

                  <li class="li">JDBC Query executor</li>

            </ul>
</div>

          <p class="p">For example, to use the JDBC Query Consumer or the JDBC Producer with Oracle, install
            the Oracle JDBC drivers.</p>

        </li>

        <li class="li">Before you use the Hadoop FS origin to read from non-HDFS systems, install all required
          file system application JAR files. See the file system documentation for details about the
          files to install.</li>

        <li class="li">Before you use the Spark Evaluator processor, install the Spark application JAR file and
          any dependencies other than the <span class="ph">streamsets-datacollector-api,
                        streamsets-datacollector-spark-api, and spark-core libraries</span>.</li>

        <li class="li">You can install external Java libraries to call external Java code from the scripting
          processors: Groovy, Java, and Jython Evaluator.</li>

        <li class="li">You can install the DataStax Enterprise (DSE) Java driver to configure the Cassandra
          destination to use DSE username and password authentication or Kerberos authentication. </li>

        <li class="li">Before you use the Google Bigtable destination, install the BoringSSL library.</li>

        <li class="li">Before you use the JMS Producer destination, install the JMS drivers for the
          implementation that you are using.  </li>

        <li class="li">You can install the Impala JDBC driver under the stage library selected for the
          executor. For more information, see <a class="xref" href="../Executors/HiveQuery.html#concept_rfq_xk4_nbb">Installing the Impala Driver</a>.</li>

      </ul>
</div>

  </div>

<div class="related-links"></div>
<div class="topic concept nested1" id="concept_amy_pzs_gz">
 <h2 class="title topictitle2">Install Using the Package Manager</h2>

 <div class="body conbody">
        <p class="p">To install external libraries using the Package Manager, complete the following general
            steps:</p>

        <ol class="ol" id="concept_amy_pzs_gz__ol_acn_swz_bz">
            <li class="li">Set up an external directory to store the libraries.</li>

            <li class="li">Use the Package Manager within <span class="ph">Data
                  Collector</span> to install the external libraries.</li>

        </ol>

 </div>

<div class="topic concept nested2" id="concept_hhl_nxz_bz">
 <h3 class="title topictitle3">Step 1. Set Up an External Directory</h3>

 <div class="body conbody">
  <p class="p">Before
            you install external libraries, set up a local directory external to the <span class="ph">Data
                  Collector</span>
            installation directory for the libraries. Use an external directory to enable use of the
            libraries after <span class="ph">Data
                  Collector</span>
            upgrades. Use the required procedure for your installation type.</p>

        <div class="section" id="concept_hhl_nxz_bz__section_xhc_52t_gz"><h4 class="title sectiontitle">Setting Up for RPM and Tarball</h4>
            
            <p class="p">Before you install external libraries for an RPM or tarball installation, set up an
                external directory to store the libraries. </p>

            <ol class="ol" id="concept_hhl_nxz_bz__ol_sw2_w2t_gz">
                <li class="li">Create a local directory external to the <span class="ph">Data
                  Collector</span> installation
                    directory.<div class="p">For example, if you installed <span class="ph">Data
                  Collector</span> in the
                    following directory: <pre class="pre codeblock">/opt/sdc/</pre>
you might create the
                    external directory at: <pre class="pre codeblock">/opt/sdc-extras</pre>
</div>
</li>

                <li class="li">Grant the user who starts <span class="ph">Data
                  Collector</span> ownership on the external directory.<div class="p">For example, if you use the default
                        system user and group named <samp class="ph codeph">sdc</samp> to run <span class="ph">Data
                  Collector</span> as a service, use the following command to change the owner of the
                        external directory and all files in the directory to
                            <samp class="ph codeph">sdc:sdc</samp>:<pre class="pre codeblock">chown -R sdc:sdc /opt/sdc-extras</pre>
</div>
</li>

                <li class="li">In the <span class="ph">Data
                  Collector</span> environment
                configuration file located in the <samp class="ph codeph">$SDC_DIST/libexec</samp> directory, add
                the STREAMSETS_LIBRARIES_EXTRA_DIR environment variable and point it to the external
                directory. <p class="p">Modify the <a class="xref" href="DCEnvironmentConfig.html#concept_rng_qym_qr" title="You can edit the Data Collector environment configuration file to modify the directories used to store configuration, data, log, and resource files.When you run Data Collector as a service, Data Collector runs as the system user account and group defined in environment variables. The default system user and group are named sdc.Increase or decrease the Data Collector Java heap size as necessary, based on the resources available on the host machine. By default, the Java heap size is 1024 MB. You can enable remote debugging to debug a Data Collector instance running on a remote machine. You can define the Java garbage collector that Data Collector uses. By default, Data Collector uses the Concurrent Mark Sweep (CMS) garbage collector.Data Collector includes a Java Security Manager that is enabled by default. You can edit the Data Collector environment configuration file to configure the path to JAR files to be added to the Data Collector root classloader.">environment configuration file</a> used by your installation type.</p>
<p class="p">Set the environment variable as
                    follows:</p>
<pre class="pre codeblock">export STREAMSETS_LIBRARIES_EXTRA_DIR="&lt;external directory&gt;"</pre>
<p class="p">For
                    example:
                </p>
<pre class="pre codeblock">export STREAMSETS_LIBRARIES_EXTRA_DIR="/opt/sdc-extras/"</pre>
</li>

                <li class="li">When using the Java Security Manager, which is enabled by default, update the <span class="ph">Data
                  Collector</span> security policy
                to include the external directory as follows:<ol class="ol" type="a" id="concept_hhl_nxz_bz__d5820e56">
                    <li class="li">In the <span class="ph">Data
                  Collector</span>
                        configuration directory, open the security policy file,
                            <samp class="ph codeph">$SDC_CONF/sdc-security.policy</samp>.</li>

                    <li class="li">Add the following lines to the
                        file:<pre class="pre codeblock">// user-defined external directory
grant codebase "file://&lt;external directory&gt;-" {
  permission java.security.AllPermission;
};</pre>
For
                        example:
                        <pre class="pre codeblock">// user-defined external directory
grant codebase "file:///opt/sdc-extras/-" {
  permission java.security.AllPermission;
};</pre>
</li>

                </ol>
</li>

                <li class="li">Restart <span class="ph">Data
                  Collector</span>.</li>

            </ol>

        </div>

        <div class="section" id="concept_hhl_nxz_bz__section_pkh_kft_gz"><h4 class="title sectiontitle">Setting Up for Cloudera Manager</h4>
            
            <p class="p">Before you install external libraries for a Cloudera Manager installation, set up an
                external directory to store the libraries. </p>

            <ol class="ol" id="concept_hhl_nxz_bz__ol_pwj_4ft_gz">
                <li class="li">In Cloudera Manager, select the <span class="ph uicontrol">StreamSets</span> service and then
                click <span class="ph uicontrol">Configuration</span>.</li>

                <li class="li">On the <span class="keyword wintitle">Configuration</span> page, in the
                    <span class="ph uicontrol">Data Collector Advanced Configuration Snippet (Safety Valve) for
                    sdc-env.sh</span> field, add the STREAMSETS_LIBRARIES_EXTRA_DIR environment
                variable and point it to the external directory, as
                    follows:<pre class="pre codeblock">export STREAMSETS_LIBRARIES_EXTRA_DIR="&lt;external directory&gt;"</pre>
<p class="p">For
                    example:
                </p>
<pre class="pre codeblock">export STREAMSETS_LIBRARIES_EXTRA_DIR="/opt/sdc-extras/"</pre>
By
                default, the path is <samp class="ph codeph">/var/lib/sdc</samp>. </li>

                <li class="li">Create the <samp class="ph codeph">/opt/sdc-extras/</samp> directory on every node that runs
                        <span class="ph">Data
                  Collector</span>.</li>

                <li class="li">Grant the user who starts <span class="ph">Data
                  Collector</span> ownership on the external directory added to every node.<div class="p">For example, if
                        you use the default system user and group named <samp class="ph codeph">sdc</samp> to run
                            <span class="ph">Data
                  Collector</span> as a service, use the following command to change the owner of the
                        external directory and all files in the directory to
                            <samp class="ph codeph">sdc:sdc</samp>:<pre class="pre codeblock">chown -R sdc:sdc /opt/sdc-extras</pre>
</div>
</li>

                <li class="li">When using the Java Security Manager, which is enabled by default, update the
                    <span class="ph uicontrol">Data Collector Advanced Configuration Snippet (Safety Valve) for
                    sdc-security.policy</span> property to include the external directory as follows:<div class="p">
                    <pre class="pre codeblock">// user-defined external directory
grant codebase "file://&lt;external directory&gt;-" {
  permission java.security.AllPermission;
};</pre>

                </div>
<div class="p">For example:
                    <pre class="pre codeblock">// user-defined external directory
grant codebase "file:///opt/sdc-extras/-" {
  permission java.security.AllPermission;
};</pre>
</div>
</li>

                <li class="li">Restart <span class="ph">Data
                  Collector</span>.</li>

            </ol>

        </div>

 </div>

    <div class="related-links"><div class="relinfo"><strong>Related information</strong><br />
<div class="related_link"><a class="navheader_parent_path" href="DCEnvironmentConfig.html#concept_rng_qym_qr" title="You can edit the Data Collector environment configuration file to modify the directories used to store configuration, data, log, and resource files.When you run Data Collector as a service, Data Collector runs as the system user account and group defined in environment variables. The default system user and group are named sdc.Increase or decrease the Data Collector Java heap size as necessary, based on the resources available on the host machine. By default, the Java heap size is 1024 MB. You can enable remote debugging to debug a Data Collector instance running on a remote machine. You can define the Java garbage collector that Data Collector uses. By default, Data Collector uses the Concurrent Mark Sweep (CMS) garbage collector.Data Collector includes a Java Security Manager that is enabled by default. You can edit the Data Collector environment configuration file to configure the path to JAR files to be added to the Data Collector root classloader.">Data Collector Environment Configuration</a></div>
</div>
</div>
</div>
<div class="topic task nested2" id="task_jng_dkt_bz">
    <h3 class="title topictitle3">Step 2. Install External Libraries</h3>

    
    <div class="body taskbody"><p class="shortdesc">After you've set up the external directory, use the Package Manager within <span class="ph">Data
                  Collector</span> to
        install external libraries.</p>

        <ol class="ol steps"><li class="li step stepexpand">
                <span class="ph cmd">In <span class="ph">Data
                  Collector</span>, in the top right toolbar, click the <span class="ph uicontrol">Package Manager</span>
                    icon:</span>
                <div class="itemgroup info"><img class="image" id="task_jng_dkt_bz__image_nw1_2gz_d1b" src="../Graphics/PackageManager-iconrow.png" height="26" width="200" /></div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">In the navigation panel, click <span class="ph uicontrol">External Libraries</span>:</span>
                <div class="itemgroup info"><img class="image" id="task_jng_dkt_bz__image_ah1_rgz_d1b" src="../Graphics/PackageManager-ExternalLibs.png" height="285" width="261" /></div>
                <div class="itemgroup info"><span class="ph">Data
                  Collector</span> lists any currently installed external libraries.</div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd" id="task_jng_dkt_bz__cmd-ExtLibIcon">Immediately under the top right toolbar, click the
                        <span class="ph uicontrol">Install External Libraries</span> icon:</span>
                <div class="itemgroup info"><img class="image" id="task_jng_dkt_bz__image_dl1_bjz_d1b" src="../Graphics/PackageManager_InstallExtLib.png" height="55" width="224" /></div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">In the <span class="keyword wintitle">Install External Libraries</span> dialog box, select the
                    stage library that needs to access the external library.</span>
                <div class="itemgroup info">For example, if you are installing a JDBC driver for the JDBC Multitable
                    Consumer origin, select the JDBC stage library. If you are installing an
                    external Java library for the Groovy Evaluator processor, select the Groovy
                    stage library.</div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd" id="task_jng_dkt_bz__step-Upload">Browse to select the external library to install and click
                        <span class="ph uicontrol">Open</span>. </span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd" id="task_jng_dkt_bz__cmd-UploadExtLib">To install the external library to the specified stage
                    library, click <span class="ph uicontrol">Upload</span>.</span>
                <div class="itemgroup info"><span class="ph">Data
                  Collector</span> installs the external library and displays a message offering to restart <span class="ph">Data
                  Collector</span>.</div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">To install additional external libraries, click <span class="ph uicontrol">Cancel</span>,
                    then repeat steps <a class="xref" href="ExternalLibs.html#task_jng_dkt_bz__cmd-UploadExtLib">3</a> - <a class="xref" href="ExternalLibs.html#task_jng_dkt_bz__cmd-UploadExtLib">6</a> for every stage library that needs access to the external
                    library.</span>
                <div class="itemgroup info"><span class="ph">For example, say you want to use an external
                        library with the Spark Evaluator processor, but you use two versions of the
                        processor - each from a different stage library. To make the external
                        library available to both processor versions, you must upload the external
                        library to both stage libraries.</span></div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">After installing all of the external libraries that you want, restart the <span class="ph">Data
                  Collector</span> in one of the following ways:</span>
                <ul class="ul choices" id="task_jng_dkt_bz__choices_ost_pkm_nw">
                    <li class="li choice">If you started the <span class="ph">Data
                  Collector</span> manually from the command line, click <span class="ph uicontrol">Restart Data
                            Collector</span> in the <span class="keyword wintitle">Install External
                            Libraries</span> window.</li>

                    <li class="li choice">If you started the <span class="ph">Data
                  Collector</span> as a service, you must use the command line for restart. Click
                            <span class="ph uicontrol">Cancel</span> in the <span class="keyword wintitle">Install External
                            Libraries</span> window, and then run the following command:
                        <pre class="pre codeblock">service sdc restart</pre>
</li>

                </ul>

            </li>
</ol>

    </div>

    
</div>
</div>
<div class="topic concept nested1" id="concept_bft_qzs_gz">
 <h2 class="title topictitle2">Install Manually</h2>

    <p class="shortdesc">To manually install external libraries, use the required procedure for your
        installation type.</p>

<div class="topic concept nested2" id="concept_chn_2mt_gz">
 <h3 class="title topictitle3">Installing Manually for RPM and Tarball</h3>

 <div class="body conbody">
  <p class="p">To manually install external libraries for an RPM or tarball installation, perform the
            following steps:</p>

        <ol class="ol" id="concept_chn_2mt_gz__ol_wxv_jmt_gz">
            <li class="li">Create a local directory external to the <span class="ph">Data
                  Collector</span> installation
                    directory.<div class="p">For example, if you installed <span class="ph">Data
                  Collector</span> in the
                    following directory: <pre class="pre codeblock">/opt/sdc/</pre>
you might create the
                    external directory at: <pre class="pre codeblock">/opt/sdc-extras</pre>
</div>
</li>

            <li class="li">Create subdirectories for each set of external libraries based on the stage library
                name as
                    follows:<pre class="pre codeblock">/opt/sdc-extras/&lt;stage library name&gt;/lib/</pre>
<div class="p">For
                    example, to install drivers for stages included with the JDBC stage library,
                    create the following subdirectory:
                    <pre class="pre codeblock">/opt/sdc-extras/streamsets-datacollector-jdbc-lib/lib/</pre>
</div>
<p class="p">To
                    also install drivers for stages included with the JMS stage library, create the
                    following subdirectory:
                    </p>
<pre class="pre codeblock">/opt/sdc-extras/streamsets-datacollector-jms-lib/lib/</pre>
<div class="note note"><span class="notetitle">Note:</span> If you use multiple stage libraries for a
                        particular stage, and you want to use an external library with all stage
                        libraries, you must install the external library for each stage library.
                        </div>
<p class="p"><span class="ph">For example, say you want to use an external
                        library with the Spark Evaluator processor, but you use two versions of the
                        processor - each from a different stage library. To make the external
                        library available to both processor versions, you must upload the external
                        library to both stage libraries.</span></p>
</li>

            <li class="li">Copy the external libraries to the appropriate subdirectories.</li>

            <li class="li">In the <span class="ph">Data
                  Collector</span> environment
                configuration file located in the <samp class="ph codeph">$SDC_DIST/libexec</samp> directory, add
                the STREAMSETS_LIBRARIES_EXTRA_DIR environment variable and point it to the external
                directory. <p class="p">Modify the <a class="xref" href="DCEnvironmentConfig.html#concept_rng_qym_qr" title="You can edit the Data Collector environment configuration file to modify the directories used to store configuration, data, log, and resource files.When you run Data Collector as a service, Data Collector runs as the system user account and group defined in environment variables. The default system user and group are named sdc.Increase or decrease the Data Collector Java heap size as necessary, based on the resources available on the host machine. By default, the Java heap size is 1024 MB. You can enable remote debugging to debug a Data Collector instance running on a remote machine. You can define the Java garbage collector that Data Collector uses. By default, Data Collector uses the Concurrent Mark Sweep (CMS) garbage collector.Data Collector includes a Java Security Manager that is enabled by default. You can edit the Data Collector environment configuration file to configure the path to JAR files to be added to the Data Collector root classloader.">environment configuration file</a> used by your installation type.</p>
<p class="p">Set the environment variable as
                    follows:</p>
<pre class="pre codeblock">export STREAMSETS_LIBRARIES_EXTRA_DIR="&lt;external directory&gt;"</pre>
<p class="p">For
                    example:
                </p>
<pre class="pre codeblock">export STREAMSETS_LIBRARIES_EXTRA_DIR="/opt/sdc-extras/"</pre>
</li>

            <li class="li">When using the Java Security Manager, which is enabled by default, update the <span class="ph">Data
                  Collector</span> security policy
                to include the external directory as follows:<ol class="ol" type="a" id="concept_chn_2mt_gz__d5820e56">
                    <li class="li">In the <span class="ph">Data
                  Collector</span>
                        configuration directory, open the security policy file,
                            <samp class="ph codeph">$SDC_CONF/sdc-security.policy</samp>.</li>

                    <li class="li">Add the following lines to the
                        file:<pre class="pre codeblock">// user-defined external directory
grant codebase "file://&lt;external directory&gt;-" {
  permission java.security.AllPermission;
};</pre>
For
                        example:
                        <pre class="pre codeblock">// user-defined external directory
grant codebase "file:///opt/sdc-extras/-" {
  permission java.security.AllPermission;
};</pre>
</li>

                </ol>
</li>

            <li class="li">Restart <span class="ph">Data
                  Collector</span>.</li>

        </ol>

 </div>

    <div class="related-links"><div class="relinfo"><strong>Related information</strong><br />
<div class="related_link"><a class="navheader_parent_path" href="DCEnvironmentConfig.html#concept_rng_qym_qr" title="You can edit the Data Collector environment configuration file to modify the directories used to store configuration, data, log, and resource files.When you run Data Collector as a service, Data Collector runs as the system user account and group defined in environment variables. The default system user and group are named sdc.Increase or decrease the Data Collector Java heap size as necessary, based on the resources available on the host machine. By default, the Java heap size is 1024 MB. You can enable remote debugging to debug a Data Collector instance running on a remote machine. You can define the Java garbage collector that Data Collector uses. By default, Data Collector uses the Concurrent Mark Sweep (CMS) garbage collector.Data Collector includes a Java Security Manager that is enabled by default. You can edit the Data Collector environment configuration file to configure the path to JAR files to be added to the Data Collector root classloader.">Data Collector Environment Configuration</a></div>
</div>
</div>
</div>
<div class="topic concept nested2" id="concept_mbl_snt_gz">
 <h3 class="title topictitle3">Installing Manually for Cloudera Manager</h3>

 <div class="body conbody">
  <p class="p">To manually install external libraries for an installation with Cloudera Manager, perform the
            following steps:</p>

        <ol class="ol" id="concept_mbl_snt_gz__ol_q5w_tnt_gz">
            <li class="li">In Cloudera Manager, select the <span class="ph uicontrol">StreamSets</span> service and then
                click <span class="ph uicontrol">Configuration</span>.</li>

            <li class="li">On the <span class="keyword wintitle">Configuration</span> page, in the
                    <span class="ph uicontrol">Data Collector Advanced Configuration Snippet (Safety Valve) for
                    sdc-env.sh</span> field, add the STREAMSETS_LIBRARIES_EXTRA_DIR environment
                variable and point it to the external directory, as
                    follows:<pre class="pre codeblock">export STREAMSETS_LIBRARIES_EXTRA_DIR="&lt;external directory&gt;"</pre>
<p class="p">For
                    example:
                </p>
<pre class="pre codeblock">export STREAMSETS_LIBRARIES_EXTRA_DIR="/opt/sdc-extras/"</pre>
By
                default, the path is <samp class="ph codeph">/var/lib/sdc</samp>. </li>

            <li class="li">On every node that runs Data Collector, create subdirectories for each set of
                external libraries based on the stage library name as
                    follows:<pre class="pre codeblock">$STREAMSETS_LIBRARIES_EXTRA_DIR/&lt;stage library name&gt;/lib/</pre>
<div class="p">For
                    example, to install drivers for JDBC, create the following subdirectory on every
                    node:
                    <pre class="pre codeblock">/opt/sdc-extras/streamsets-datacollector-jdbc-lib/lib/</pre>
</div>
<div class="p">To
                    also install drivers for JMS, create the following subdirectory on every node:
                    <pre class="pre codeblock">/opt/sdc-extras/streamsets-datacollector-jms-lib/lib/</pre>
</div>
<div class="note note"><span class="notetitle">Note:</span> If you use multiple stage libraries for a
                        particular stage, and you want to use an external library with all stage
                        libraries, you must install the external library for each stage library.
                        </div>
<p class="p"><span class="ph">For example, say you want to use an external
                        library with the Spark Evaluator processor, but you use two versions of the
                        processor - each from a different stage library. To make the external
                        library available to both processor versions, you must upload the external
                        library to both stage libraries.</span></p>
</li>

            <li class="li">Copy the external libraries to the appropriate subdirectories on every node.</li>

            <li class="li">When using the Java Security Manager, which is enabled by default, update the
                    <span class="ph uicontrol">Data Collector Advanced Configuration Snippet (Safety Valve) for
                    sdc-security.policy</span> property to include the external directory as follows:<div class="p">
                    <pre class="pre codeblock">// user-defined external directory
grant codebase "file://&lt;external directory&gt;-" {
  permission java.security.AllPermission;
};</pre>

                </div>
<div class="p">For example:
                    <pre class="pre codeblock">// user-defined external directory
grant codebase "file:///opt/sdc-extras/-" {
  permission java.security.AllPermission;
};</pre>
</div>
</li>

            <li class="li">Restart <span class="ph">Data
                  Collector</span>.</li>

        </ol>

 </div>

    <div class="related-links"><div class="relinfo"><strong>Related information</strong><br />
<div class="related_link"><a class="navheader_parent_path" href="DCEnvironmentConfig.html#concept_rng_qym_qr" title="You can edit the Data Collector environment configuration file to modify the directories used to store configuration, data, log, and resource files.When you run Data Collector as a service, Data Collector runs as the system user account and group defined in environment variables. The default system user and group are named sdc.Increase or decrease the Data Collector Java heap size as necessary, based on the resources available on the host machine. By default, the Java heap size is 1024 MB. You can enable remote debugging to debug a Data Collector instance running on a remote machine. You can define the Java garbage collector that Data Collector uses. By default, Data Collector uses the Concurrent Mark Sweep (CMS) garbage collector.Data Collector includes a Java Security Manager that is enabled by default. You can edit the Data Collector environment configuration file to configure the path to JAR files to be added to the Data Collector root classloader.">Data Collector Environment Configuration</a></div>
</div>
</div>
</div>
</div>
</div>
<div class="navfooter"><!---->
<span class="navparent"><a class="link" href="../Configuration/Config_title.html" title="Configuration"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Configuration</span></a></span>  </div><div class="footer" id="webhelp_copyright_information"><!--

    Copyright 2017 StreamSets Inc.

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.

--><!-- SDC google analytics --><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-60917135-3', 'auto');
  ga('send', 'pageview');
</script></div>
</body>
</html>