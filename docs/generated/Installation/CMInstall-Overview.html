
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="description" content="You can use Cloudera Manager to easily install Data Collector across the cluster as an add-on service. To install Data Collector through Cloudera Manager, perform the following steps: Install the ..." /><meta name="copyright" content="(C) Copyright 2005" /><meta name="DC.rights.owner" content="(C) Copyright 2005" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Installation with Cloudera Manager" /><meta name="DC.Relation" scheme="URI" content="../Installation/Install_title.html" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="concept_nb5_c3m_25" /><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>Installation with Cloudera Manager</title><!--  Generated with Oxygen version 18.1, build number 2016112217.  --><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/skins/skin.css" /><link rel="stylesheet" type="text/css" href="../skin.css" /><script type="text/javascript"><!--
            
            var prefix = "../index.html";
            
            --></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-1.11.3.min.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.highlight-3.js"><!----></script><script type="text/javascript" charset="utf-8" src="../oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script>
<!--
    Copyright 2017 StreamSets Inc.

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->
</head>
<body onload="highlightSearchTerm()" class="frmBody">
<table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><a href="javascript:window.print();" title="Print this page"></a></div><div id="permalink"><a href="#" title="Link to this page"></a></div></td></tr><tr><td style="width:75%;"><span class="topic_breadcrumb_links"><span class="topic_breadcrumb_link"><a class="navheader_parent_path" href="../Installation/Install_title.html" title="Installation">Installation</a></span></span></td><td><span id="topic_navigation_links" class="navheader">
<span class="navparent"><a class="link" href="../Installation/Install_title.html" title="Installation"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Installation</span></a></span>  </span></td></tr></tbody></table>
<div class="nested0" id="concept_nb5_c3m_25">
 <h1 class="title topictitle1">Installation with Cloudera Manager</h1>

 <div class="body conbody">
        <p class="p">You can use Cloudera Manager to easily
            install <span class="ph">Data
                  Collector</span>
            across the cluster as an add-on service.</p>

        <div class="p">To install <span class="ph">Data
                  Collector</span>
            through Cloudera Manager, perform the following steps:<ol class="ol" id="concept_nb5_c3m_25__ol_n14_bf4_25">
                <li class="li">Install the StreamSets custom service descriptor (CSD). </li>

                <li class="li">(Optional.) Manually install the parcel and checksum files. Typically only
                    needed when the Cloudera Manager Server does not have internet access. </li>

                <li class="li">Download, distribute, and activate the StreamSets parcel.</li>

                <li class="li">Configure the StreamSets service.</li>

            </ol>
</div>

        <p class="p">Afterwards, you can configure the <span class="ph">Data
                  Collector</span> if
            necessary. </p>

        <div class="p">
            <div class="note important"><span class="importanttitle">Important:</span> When you use Cloudera Manager to install <span class="ph">Data
                  Collector</span>, you must use Cloudera Manager to configure <span class="ph">Data
                  Collector</span> properties and environment. Manual changes to the <span class="ph">Data
                  Collector</span> properties or environment files are not recognized by Cloudera Manager.</div>

        </div>

        <p class="p">This documentation includes details about Cloudera Manager to simplify the installation
            and configuration process. For more information about using Cloudera Manager, see the
            Cloudera documentation.</p>

    </div>

<div class="related-links"></div>
<div class="topic task nested1" id="task_hzt_dgn_25">
    <h2 class="title topictitle2">Step 1. Install the StreamSets Custom Service Descriptor</h2>

    <div class="body taskbody">
        <div class="section context">
            <p class="p">Install the StreamSets custom service descriptor file
                (CSD), and then restart Cloudera Manager.</p>

        </div>

        <ol class="ol steps" id="task_hzt_dgn_25__steps_end_bln_25"><li class="li step stepexpand">
                <span class="ph cmd">Use the following URL to download the CSD from the StreamSets website: <a class="xref" href="https://streamsets.com/opensource" target="_blank">https://streamsets.com/opensource</a>.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Copy the <span class="ph">Data
                  Collector</span> CSD file to the<span class="ph uicontrol"> Local Descriptor Repository Path</span>. By
                    default, the path is <samp class="ph codeph">/opt/cloudera/csd</samp>.</span>
                <div class="itemgroup info">To verify the path to use, in Cloudera Manager, click <span class="ph menucascade"><span class="ph uicontrol">Administration</span> &gt; <span class="ph uicontrol">Settings</span></span>. In the navigation panel, select the <span class="ph uicontrol">Custom Service
                        Descriptors</span> category. Place the CSD file in the path configured
                    for <span class="ph uicontrol">Local Descriptor Repository Path</span>. </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Set the file ownership to <samp class="ph codeph">cloudera-scm:cloudera-scm</samp> with
                    permission <span class="ph uicontrol">644</span>. </span>
                <div class="itemgroup info">For example:
                    <pre class="pre codeblock">chown cloudera-scm:cloudera-scm /opt/cloudera/csd/STREAMSETS*.jar
chmod 644 /opt/cloudera/csd/STREAMSETS*.jar</pre>
</div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Use one of the following commands to restart Cloudera Manager Server:</span>
                <div class="itemgroup info"><div class="p">For Ubuntu 14.04, CentOS 6, or Red Hat Enterprise Linux 6:
                        <pre class="pre codeblock">service cloudera-scm-server restart</pre>
</div>
For Ubuntu
                    16.04, CentOS 7, or Red Hat Enterprise Linux 7:
                    <pre class="pre codeblock">systemctl restart cloudera-scm-server</pre>
</div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">In Cloudera Manager, to restart the Cloudera Management Service, click <span class="ph menucascade"><span class="ph uicontrol">Home</span> &gt; <span class="ph uicontrol">Status</span></span>. To the right of Cloudera Management Service, click the
                        <span class="ph uicontrol">Menu</span> icon and select
                    <span class="ph uicontrol">Restart</span>.</span>
            </li>
</ol>

    </div>

</div>
<div class="topic task nested1" id="task_opg_yrm_25">
    <h2 class="title topictitle2">Step 2. Manually Install the Parcel and Checksum Files (Optional)</h2>

    <div class="body taskbody">
        <div class="section context">
            <p class="p">You can manually install the StreamSets parcel
                and related checksum files. Manually install the files when the Cloudera Manager
                Server does not have internet access.</p>

            <p class="p">When working with multiple clusters, perform the following steps for each
                cluster.</p>

        </div>

        <ol class="ol steps" id="task_opg_yrm_25__steps_zj3_4sm_25"><li class="li step stepexpand">
                <span class="ph cmd">Download the StreamSets parcel and related checksum file for the Cloudera
                    Manager Server operating system from the following location:</span>
                <div class="itemgroup info"><a class="xref" href="https://archives.streamsets.com/index.html" target="_blank">https://archives.streamsets.com/index.html</a></div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Copy the StreamSets parcel and checksum files to the <span class="ph uicontrol">Cloudera
                        Manager Local Parcel Repository Path</span>. </span>
                <div class="itemgroup info">By default, the path is <samp class="ph codeph">/opt/cloudera/parcel-repo</samp>.</div>
                <div class="itemgroup info">To verify the path to use, click <span class="ph menucascade"><span class="ph uicontrol">Administration</span> &gt; <span class="ph uicontrol">Settings</span></span>. In the navigation panel, select the
                        <span class="ph uicontrol">Parcels</span> category. Place the StreamSets parcel file in
                    the path configured for <span class="ph uicontrol">Local Parcel Repository Path</span>.
                </div>
            </li>
</ol>

    </div>

</div>
<div class="topic task nested1" id="unique_215063337">
    <h2 class="title topictitle2">Step 3. Distribute and Activate the StreamSets Parcel</h2>

    <div class="body taskbody">
        <div class="section context">
            <p class="p">After you add the StreamSets repository to
                Cloudera Manager, you can download, distribute, and activate the StreamSets parcel
                across the cluster.</p>

            <div class="p">
                <div class="note note"><span class="notetitle">Note:</span> The StreamSets parcel repository is added to Cloudera Manager during the
                    installation of the CSD. However, if installing the parcel before the CSD, the
                    StreamSets parcel repository URL is located at: <a class="xref" href="https://archives.streamsets.com/index.html" target="_blank">https://archives.streamsets.com/index.html</a>. Download the correct parcel type for the operating
                    system that you use.</div>

            </div>

            <p class="p">When working with multiple clusters, perform the following steps for each
                cluster.</p>

        </div>

        <ol class="ol steps" id="unique_215063337__steps_zj3_4sm_25"><li class="li step stepexpand">
                <span class="ph cmd">To view the list of available parcels, in the menu bar, click the
                        <span class="ph uicontrol">Parcels</span> icon. </span>
                <div class="itemgroup info">The StreamSets parcel displays in the list of available parcels. If it doesn't
                    display, click <span class="ph uicontrol">Check for New Parcels</span>.</div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">To download the StreamSets parcel to the local repository, click
                        <span class="ph uicontrol">Download</span>.</span>
                <div class="itemgroup info">After the parcel is downloaded, the Download button becomes the Distribute
                    button.</div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">To distribute the StreamSets parcel to the cluster, click
                        <span class="ph uicontrol">Distribute</span>. </span>
                <div class="itemgroup info">After distribution, the Distribute button becomes the Activate button.</div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">To activate the StreamSets parcel, click <span class="ph uicontrol">Activate</span>.</span>
            </li>
</ol>

    </div>

</div>
<div class="topic task nested1" id="task_u1v_nkt_25">
    <h2 class="title topictitle2">Step 4. Configure the StreamSets Service</h2>

    <div class="body taskbody">
        <div class="section context"><p class="p">When you configure the service, you assign
                    <span class="ph">Data
                  Collector</span> to the hosts where you want it to run.</p>
To run <span class="ph">Data
                  Collector</span> in
            cluster streaming mode, colocate <span class="ph">Data
                  Collector</span> on
            a node with the Spark Gateway role. To run <span class="ph">Data
                  Collector</span> in
            cluster batch mode, colocate <span class="ph">Data
                  Collector</span> on
            a node with the YARN Gateway role.<p class="p">To write to HDFS, colocate <span class="ph">Data
                  Collector</span> on a node with the HDFS Gateway role. Similarly, to write to HBase or Hive,
                colocate <span class="ph">Data
                  Collector</span> on nodes with the HBase or Hive Gateway roles, respectively.</p>
<p class="p">When working
                with multiple clusters, perform the following steps for each cluster.</p>
</div>

        <ol class="ol steps" id="task_u1v_nkt_25__steps_vy1_wkt_25"><li class="li step stepexpand">
                <span class="ph cmd">In Cloudera Manager, click the menu for the cluster you want to use, then click
                        <span class="ph uicontrol">Add a Service</span>.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">In the <span class="ph uicontrol">Service Types</span> list, select
                        <span class="ph uicontrol">StreamSets</span>, then click
                        <span class="ph uicontrol">Continue</span>.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">To select the hosts where you want to install StreamSets, on the
                        <span class="keyword wintitle">Customize Role Assignments for StreamSets</span> page, click
                        <span class="ph uicontrol">Select Hosts</span> to open a list of available hosts.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Select one or more hosts, then click <span class="ph uicontrol">OK</span>. Click
                        <span class="ph uicontrol">Continue</span>.</span>
                <div class="itemgroup info">The <span class="keyword wintitle">Review Changes</span> page displays the Data and Resource
                    directories for the <span class="ph">Data
                  Collector</span>. </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Optionally change the directories, then click
                    <span class="ph uicontrol">Continue</span>.</span>
                <div class="itemgroup info">The <span class="keyword wintitle">First Run Command</span> page displays status updates as
                    Cloudera Manager starts <span class="ph">Data
                  Collector</span> on the selected hosts. </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Click <span class="ph uicontrol">Continue</span>, then click
                    <span class="ph uicontrol">Finish</span>.</span>
            </li>
</ol>

    </div>

</div>
<div class="topic task nested1" id="task_zn4_qrn_25">
    <h2 class="title topictitle2">Configuring Data Collector with Cloudera Manager</h2>

    
    <div class="body taskbody"><p class="shortdesc">When administering <span class="ph">Data
                  Collector</span> with
        Cloudera Manager, configure all <span class="ph">Data
                  Collector</span>
        configuration properties and environment variables through Cloudera Manager. </p>

        <div class="section context">
            <p class="p">Manual changes to <span class="ph">Data
                  Collector</span> configuration files can be overwritten by Cloudera Manager. </p>

        </div>

        <ol class="ol steps" id="task_zn4_qrn_25__steps_tvq_xsn_25"><li class="li step stepexpand">
                <span class="ph cmd">In Cloudera Manager, select the <span class="ph uicontrol">StreamSets</span> service, then
                    click <span class="ph uicontrol">Configuration</span>.</span>
                <div class="itemgroup info">The <span class="keyword wintitle">Configuration</span> page displays <span class="ph">Data
                  Collector</span> configuration properties. </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">On the <span class="keyword wintitle">Configuration</span> page, in the navigation panel, you
                    can select a category to configure related properties. </span>
            </li>
</ol>

    </div>

    <div class="related-links"><div class="relinfo relconcepts"><strong>Related concepts</strong><br />
<div class="related_link"><a class="navheader_parent_path" href="../Configuration/DCConfig.html#concept_pq5_xjq_kr" title="You can edit the Data Collector configuration file, $SDC_CONF/sdc.properties, to configure properties such as the host name and port number and account information for email alerts.">Data Collector Configuration</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../Configuration/DCEnvironmentConfig.html#concept_rng_qym_qr" title="You can edit the Data Collector environment configuration file to modify the directories used to store configuration, data, log, and resource files.When you run Data Collector as a service, Data Collector runs as the system user account and group defined in environment variables. The default system user and group are named sdc.Increase or decrease the Data Collector Java heap size as necessary, based on the resources available on the host machine. By default, the Java heap size is 1024 MB. You can enable remote debugging to debug a Data Collector instance running on a remote machine. You can define the Java garbage collector that Data Collector uses. By default, Data Collector uses the Concurrent Mark Sweep (CMS) garbage collector.Data Collector includes a Java Security Manager that is enabled by default. You can edit the Data Collector environment configuration file to configure the path to JAR files to be added to the Data Collector root classloader.">Data Collector Environment Configuration</a></div>
</div>
</div>
</div>
</div>
<div class="navfooter"><!---->
<span class="navparent"><a class="link" href="../Installation/Install_title.html" title="Installation"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Installation</span></a></span>  </div><div class="footer" id="webhelp_copyright_information"></div>
</body>
</html>